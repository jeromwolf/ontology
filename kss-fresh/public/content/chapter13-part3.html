<!-- Chapter 13: 통합 프로젝트: 주식-뉴스 연계 (인터랙티브 마스터 버전) Part 3 -->

<!-- Part 3 시작 -->
<div class="part-header investment-intelligence-mastery">
    <div class="intelligence-network-animation"></div>
    <h2 class="part-title">Part 3: AI 투자 의사결정 지원 시스템</h2>
    <p class="part-description">모든 요소를 통합하여 실전에서 활용 가능한 지능형 투자 플랫폼을 완성합니다!</p>
</div>

<!-- AI 투자 전문가 최종 인증 -->
<div class="progress-check ai-investment-master">
    <h3>🏆 AI 투자 인텔리전스 마스터</h3>
    <div class="master-certification">
        <div class="certification-display">
            <div class="master-badge-container">
                <div class="badge-glow"></div>
                <div class="master-badge">
                    <div class="badge-inner">
                        <span class="badge-icon">👑</span>
                        <h4>Investment Intelligence Master</h4>
                        <div class="certification-level">
                            <span class="level-text">Level</span>
                            <span class="level-number">99</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="master-stats">
                <h4>마스터 달성 통계</h4>
                <div class="stat-grid">
                    <div class="stat-item">
                        <span class="stat-icon">📊</span>
                        <span class="stat-label">분석한 뉴스</span>
                        <span class="stat-value">12,847</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">🎯</span>
                        <span class="stat-label">예측 정확도</span>
                        <span class="stat-value">87.3%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">💰</span>
                        <span class="stat-label">수익률</span>
                        <span class="stat-value">+34.2%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">⚡</span>
                        <span class="stat-label">반응 속도</span>
                        <span class="stat-value">0.3초</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="skills-mastered">
            <h4>습득한 핵심 기술</h4>
            <div class="skill-badges">
                <div class="skill-badge legendary">온톨로지 통합</div>
                <div class="skill-badge legendary">실시간 감성 분석</div>
                <div class="skill-badge epic">패턴 인식</div>
                <div class="skill-badge epic">예측 모델링</div>
                <div class="skill-badge rare">리스크 관리</div>
                <div class="skill-badge rare">포트폴리오 최적화</div>
            </div>
        </div>
    </div>
</div>

<!-- 섹션 13.7: 통합 대시보드 -->
<section class="content-section integrated-dashboard">
    <h2>13.7 AI 투자 커맨드 센터</h2>
    
    <!-- 메인 대시보드 -->
    <div class="command-center">
        <h3>🎮 투자 의사결정 통합 대시보드</h3>
        <div class="dashboard-layout">
            <!-- 시장 개요 -->
            <div class="dashboard-section market-overview">
                <h4>📊 시장 개요</h4>
                <div class="market-indicators">
                    <div class="indicator-card">
                        <span class="indicator-name">KOSPI</span>
                        <span class="indicator-value">2,587.42</span>
                        <span class="indicator-change positive">+1.23%</span>
                    </div>
                    <div class="indicator-card">
                        <span class="indicator-name">KOSDAQ</span>
                        <span class="indicator-value">847.23</span>
                        <span class="indicator-change negative">-0.45%</span>
                    </div>
                    <div class="indicator-card">
                        <span class="indicator-name">뉴스 감성</span>
                        <div class="sentiment-meter">
                            <div class="meter-fill positive" style="width: 68%"></div>
                        </div>
                        <span class="indicator-value">+0.68</span>
                    </div>
                    <div class="indicator-card">
                        <span class="indicator-name">변동성</span>
                        <div class="volatility-gauge">
                            <svg width="60" height="60">
                                <circle cx="30" cy="30" r="25" fill="none" stroke="#e5e7eb" stroke-width="5"/>
                                <circle cx="30" cy="30" r="25" fill="none" stroke="#f59e0b" stroke-width="5"
                                        stroke-dasharray="157" stroke-dashoffset="94"
                                        style="transform: rotate(-90deg); transform-origin: 30px 30px;"/>
                            </svg>
                            <span class="gauge-value">보통</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- AI 추천 -->
            <div class="dashboard-section ai-recommendations">
                <h4>🤖 AI 투자 추천</h4>
                <div class="recommendation-list">
                    <div class="recommendation-item strong-buy">
                        <div class="rec-header">
                            <span class="stock-info">
                                <strong>삼성전자</strong>
                                <span class="ticker">005930</span>
                            </span>
                            <span class="rec-signal">강력 매수</span>
                        </div>
                        <div class="rec-reason">
                            <p>AI 반도체 대규모 투자 발표 + 긍정적 시장 반응</p>
                            <div class="confidence-bar">
                                <div class="bar-fill" style="width: 92%"></div>
                                <span class="confidence">신뢰도 92%</span>
                            </div>
                        </div>
                        <div class="rec-metrics">
                            <span class="metric">목표가: 85,000원</span>
                            <span class="metric">상승여력: +18%</span>
                            <span class="metric">기간: 3개월</span>
                        </div>
                    </div>
                    
                    <div class="recommendation-item buy">
                        <div class="rec-header">
                            <span class="stock-info">
                                <strong>현대차</strong>
                                <span class="ticker">005380</span>
                            </span>
                            <span class="rec-signal">매수</span>
                        </div>
                        <div class="rec-reason">
                            <p>전기차 시장 점유율 상승 + 실적 개선 전망</p>
                            <div class="confidence-bar">
                                <div class="bar-fill" style="width: 78%"></div>
                                <span class="confidence">신뢰도 78%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="recommendation-item hold">
                        <div class="rec-header">
                            <span class="stock-info">
                                <strong>LG화학</strong>
                                <span class="ticker">051910</span>
                            </span>
                            <span class="rec-signal">보유</span>
                        </div>
                        <div class="rec-reason">
                            <p>배터리 수요 증가 vs 원자재 가격 상승 우려</p>
                            <div class="confidence-bar">
                                <div class="bar-fill" style="width: 65%"></div>
                                <span class="confidence">신뢰도 65%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 실시간 모니터링 -->
            <div class="dashboard-section realtime-monitor">
                <h4>⚡ 실시간 이벤트 모니터링</h4>
                <div class="event-timeline">
                    <div class="timeline-item critical">
                        <span class="time">14:32</span>
                        <div class="event-content">
                            <span class="event-type">🚨 긴급</span>
                            <p>SK하이닉스 - 중국 공장 가동 중단 뉴스</p>
                            <span class="impact">예상 영향: -2.5%</span>
                        </div>
                    </div>
                    <div class="timeline-item positive">
                        <span class="time">14:28</span>
                        <div class="event-content">
                            <span class="event-type">📈 호재</span>
                            <p>삼성바이오 - FDA 신약 승인</p>
                            <span class="impact">예상 영향: +3.8%</span>
                        </div>
                    </div>
                    <div class="timeline-item neutral">
                        <span class="time">14:25</span>
                        <div class="event-content">
                            <span class="event-type">📊 중립</span>
                            <p>한국은행 - 기준금리 동결 결정</p>
                            <span class="impact">예상 영향: ±0.2%</span>
                        </div>
                    </div>
                </div>
                <div class="monitor-controls">
                    <button class="filter-btn active">전체</button>
                    <button class="filter-btn">긴급</button>
                    <button class="filter-btn">관심종목</button>
                </div>
            </div>
            
            <!-- 포트폴리오 성과 -->
            <div class="dashboard-section portfolio-performance">
                <h4>💼 포트폴리오 성과</h4>
                <div class="performance-chart">
                    <canvas id="portfolioChart" width="100%" height="200"></canvas>
                </div>
                <div class="performance-stats">
                    <div class="stat">
                        <span class="label">총 수익률</span>
                        <span class="value positive">+12.4%</span>
                    </div>
                    <div class="stat">
                        <span class="label">일 수익률</span>
                        <span class="value positive">+1.8%</span>
                    </div>
                    <div class="stat">
                        <span class="label">샤프 비율</span>
                        <span class="value">1.85</span>
                    </div>
                    <div class="stat">
                        <span class="label">최대 낙폭</span>
                        <span class="value">-4.2%</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 고급 분석 도구 -->
        <div class="advanced-tools">
            <h4>🛠️ 고급 분석 도구</h4>
            <div class="tool-tabs">
                <button class="tab-btn active" data-tool="correlation">상관관계 분석</button>
                <button class="tab-btn" data-tool="scenario">시나리오 분석</button>
                <button class="tab-btn" data-tool="optimization">포트폴리오 최적화</button>
                <button class="tab-btn" data-tool="backtesting">백테스팅</button>
            </div>
            
            <div class="tool-content">
                <div class="tool-panel correlation active">
                    <h5>뉴스 감성 - 주가 상관관계 매트릭스</h5>
                    <div class="correlation-heatmap">
                        <canvas id="correlationMatrix" width="500" height="400"></canvas>
                    </div>
                    <div class="correlation-insights">
                        <h6>주요 인사이트</h6>
                        <ul>
                            <li>삼성전자: 기술 뉴스와 0.82 상관관계</li>
                            <li>현대차: 환경 규제 뉴스와 -0.65 역상관</li>
                            <li>금융주: 금리 뉴스와 0.73 상관관계</li>
                        </ul>
                    </div>
                </div>
                
                <div class="tool-panel scenario">
                    <h5>시나리오 기반 영향 분석</h5>
                    <div class="scenario-simulator">
                        <div class="scenario-input">
                            <label>시나리오 선택</label>
                            <select id="scenarioSelect">
                                <option>미중 무역 갈등 심화</option>
                                <option>국내 금리 인상</option>
                                <option>반도체 수요 급증</option>
                                <option>원자재 가격 급등</option>
                            </select>
                            <button class="simulate-btn">시뮬레이션 실행</button>
                        </div>
                        <div class="scenario-results">
                            <!-- 시나리오 결과 표시 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 섹션 13.8: 투자 시그널 생성 -->
<section class="content-section signal-generation">
    <h2>13.8 지능형 투자 시그널 생성 시스템</h2>
    
    <!-- 시그널 생성 엔진 -->
    <div class="signal-engine">
        <h3>🎯 멀티팩터 시그널 생성기</h3>
        <div class="signal-interface">
            <!-- 팩터 설정 -->
            <div class="factor-configuration">
                <h4>투자 팩터 가중치 설정</h4>
                <div class="factor-controls">
                    <div class="factor-item">
                        <span class="factor-name">뉴스 감성</span>
                        <input type="range" class="factor-weight" min="0" max="100" value="30">
                        <span class="weight-value">30%</span>
                    </div>
                    <div class="factor-item">
                        <span class="factor-name">기술적 지표</span>
                        <input type="range" class="factor-weight" min="0" max="100" value="25">
                        <span class="weight-value">25%</span>
                    </div>
                    <div class="factor-item">
                        <span class="factor-name">펀더멘털</span>
                        <input type="range" class="factor-weight" min="0" max="100" value="20">
                        <span class="weight-value">20%</span>
                    </div>
                    <div class="factor-item">
                        <span class="factor-name">시장 모멘텀</span>
                        <input type="range" class="factor-weight" min="0" max="100" value="15">
                        <span class="weight-value">15%</span>
                    </div>
                    <div class="factor-item">
                        <span class="factor-name">변동성</span>
                        <input type="range" class="factor-weight" min="0" max="100" value="10">
                        <span class="weight-value">10%</span>
                    </div>
                </div>
                <div class="total-weight">
                    <span>총 가중치:</span>
                    <span class="total-value">100%</span>
                </div>
            </div>
            
            <!-- 시그널 생성 결과 -->
            <div class="signal-output">
                <h4>생성된 투자 시그널</h4>
                <div class="signal-list">
                    <div class="signal-card strong-signal">
                        <div class="signal-header">
                            <span class="signal-strength">💪 강력</span>
                            <span class="signal-score">92</span>
                        </div>
                        <div class="signal-details">
                            <h5>삼성전자 매수</h5>
                            <div class="signal-factors">
                                <div class="factor positive">
                                    <span class="factor-icon">😊</span>
                                    <span>감성: +0.85</span>
                                </div>
                                <div class="factor positive">
                                    <span class="factor-icon">📈</span>
                                    <span>기술: 골든크로스</span>
                                </div>
                                <div class="factor positive">
                                    <span class="factor-icon">💰</span>
                                    <span>PER: 12.5</span>
                                </div>
                            </div>
                            <div class="signal-action">
                                <button class="execute-btn">시그널 실행</button>
                                <button class="detail-btn">상세 분석</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="signal-card medium-signal">
                        <div class="signal-header">
                            <span class="signal-strength">📊 보통</span>
                            <span class="signal-score">68</span>
                        </div>
                        <div class="signal-details">
                            <h5>SK하이닉스 관망</h5>
                            <div class="signal-factors">
                                <div class="factor neutral">
                                    <span class="factor-icon">😐</span>
                                    <span>감성: +0.15</span>
                                </div>
                                <div class="factor negative">
                                    <span class="factor-icon">📉</span>
                                    <span>기술: 저항선</span>
                                </div>
                                <div class="factor positive">
                                    <span class="factor-icon">📊</span>
                                    <span>실적: 개선</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 시그널 백테스팅 -->
                <div class="signal-backtesting">
                    <h5>시그널 성과 백테스팅</h5>
                    <div class="backtest-results">
                        <div class="backtest-chart">
                            <canvas id="backtestChart" width="400" height="200"></canvas>
                        </div>
                        <div class="backtest-stats">
                            <div class="stat-row">
                                <span class="stat-label">승률</span>
                                <span class="stat-value">72.3%</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">평균 수익</span>
                                <span class="stat-value positive">+2.8%</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">최대 손실</span>
                                <span class="stat-value negative">-3.5%</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">손익비</span>
                                <span class="stat-value">1.85</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 섹션 13.9: 리스크 관리 -->
<section class="content-section risk-management">
    <h2>13.9 통합 리스크 관리 시스템</h2>
    
    <!-- 리스크 대시보드 -->
    <div class="risk-dashboard">
        <h3>🛡️ 포트폴리오 리스크 모니터</h3>
        <div class="risk-overview">
            <!-- 리스크 레벨 -->
            <div class="risk-gauge-container">
                <h4>현재 리스크 수준</h4>
                <div class="risk-gauge">
                    <svg width="300" height="150" viewBox="0 0 300 150">
                        <path d="M 50 130 A 100 100 0 0 1 250 130" fill="none" stroke="#e5e7eb" stroke-width="20"/>
                        <path d="M 50 130 A 100 100 0 0 1 150 30" fill="none" stroke="#10b981" stroke-width="20"/>
                        <path d="M 150 30 A 100 100 0 0 1 200 80" fill="none" stroke="#f59e0b" stroke-width="20"/>
                        <line x1="150" y1="130" x2="200" y2="80" stroke="#1e293b" stroke-width="3"/>
                        <circle cx="200" cy="80" r="5" fill="#1e293b"/>
                    </svg>
                    <div class="risk-level">보통</div>
                    <div class="risk-score">Risk Score: 42/100</div>
                </div>
            </div>
            
            <!-- 리스크 요인 분석 -->
            <div class="risk-factors">
                <h4>주요 리스크 요인</h4>
                <div class="factor-list">
                    <div class="risk-factor high">
                        <span class="factor-icon">⚠️</span>
                        <div class="factor-info">
                            <span class="factor-name">집중도 리스크</span>
                            <span class="factor-desc">IT 섹터 비중 45%</span>
                        </div>
                        <div class="factor-meter">
                            <div class="meter-fill high" style="width: 78%"></div>
                        </div>
                    </div>
                    <div class="risk-factor medium">
                        <span class="factor-icon">📊</span>
                        <div class="factor-info">
                            <span class="factor-name">변동성 리스크</span>
                            <span class="factor-desc">일간 변동성 2.3%</span>
                        </div>
                        <div class="factor-meter">
                            <div class="meter-fill medium" style="width: 52%"></div>
                        </div>
                    </div>
                    <div class="risk-factor low">
                        <span class="factor-icon">💱</span>
                        <div class="factor-info">
                            <span class="factor-name">환율 리스크</span>
                            <span class="factor-desc">해외 익스포저 15%</span>
                        </div>
                        <div class="factor-meter">
                            <div class="meter-fill low" style="width: 25%"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 리스크 시나리오 -->
            <div class="risk-scenarios">
                <h4>스트레스 테스트</h4>
                <div class="scenario-grid">
                    <div class="scenario-card">
                        <h5>시장 폭락 (-20%)</h5>
                        <div class="impact-preview">
                            <span class="impact-label">예상 손실</span>
                            <span class="impact-value negative">-18.5%</span>
                        </div>
                        <div class="mitigation">
                            <span class="mitigation-label">대응 전략</span>
                            <span class="mitigation-action">방어주 비중 확대</span>
                        </div>
                    </div>
                    <div class="scenario-card">
                        <h5>금리 급등 (+2%p)</h5>
                        <div class="impact-preview">
                            <span class="impact-label">예상 손실</span>
                            <span class="impact-value negative">-8.2%</span>
                        </div>
                        <div class="mitigation">
                            <span class="mitigation-label">대응 전략</span>
                            <span class="mitigation-action">성장주 비중 축소</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 리스크 알림 설정 -->
        <div class="risk-alerts">
            <h4>리스크 알림 설정</h4>
            <div class="alert-rules">
                <div class="rule-item">
                    <input type="checkbox" id="volatilityAlert" checked>
                    <label for="volatilityAlert">변동성이 3% 초과 시 알림</label>
                </div>
                <div class="rule-item">
                    <input type="checkbox" id="drawdownAlert" checked>
                    <label for="drawdownAlert">최대 낙폭 5% 도달 시 알림</label>
                </div>
                <div class="rule-item">
                    <input type="checkbox" id="correlationAlert">
                    <label for="correlationAlert">상관관계 급변 시 알림</label>
                </div>
                <div class="rule-item">
                    <input type="checkbox" id="newsAlert" checked>
                    <label for="newsAlert">극단적 부정 뉴스 감지 시 알림</label>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 최종 프로젝트: 실전 투자 시뮬레이션 -->
<section class="content-section final-simulation">
    <h2>🎓 최종 프로젝트: AI 투자 매니저 운영</h2>
    
    <div class="simulation-platform">
        <h3>실전 투자 시뮬레이션 플랫폼</h3>
        <div class="simulation-container">
            <!-- 시뮬레이션 설정 -->
            <div class="sim-settings">
                <h4>시뮬레이션 설정</h4>
                <div class="setting-group">
                    <label>초기 자본금</label>
                    <input type="number" id="initialCapital" value="10000000" step="1000000">
                </div>
                <div class="setting-group">
                    <label>투자 전략</label>
                    <select id="strategySelect">
                        <option>균형 포트폴리오</option>
                        <option>공격적 성장</option>
                        <option>안정적 가치</option>
                        <option>AI 최적화</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label>시뮬레이션 기간</label>
                    <select id="periodSelect">
                        <option>1개월</option>
                        <option>3개월</option>
                        <option>6개월</option>
                        <option>1년</option>
                    </select>
                </div>
                <button class="start-sim-btn" onclick="startFinalSimulation()">
                    <i class="fas fa-play"></i> 시뮬레이션 시작
                </button>
            </div>
            
            <!-- 실시간 운영 화면 -->
            <div class="operation-screen">
                <div class="operation-header">
                    <div class="portfolio-value">
                        <span class="label">포트폴리오 가치</span>
                        <span class="value">₩10,000,000</span>
                        <span class="change">+0.0%</span>
                    </div>
                    <div class="operation-time">
                        <span class="date">2024.01.15</span>
                        <span class="time">09:00:00</span>
                    </div>
                </div>
                
                <div class="operation-grid">
                    <!-- 보유 종목 -->
                    <div class="holdings-panel">
                        <h5>보유 종목</h5>
                        <div class="holdings-list">
                            <div class="holding-item">
                                <span class="stock-name">현금</span>
                                <span class="quantity">₩10,000,000</span>
                                <span class="weight">100%</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 실시간 의사결정 -->
                    <div class="decision-panel">
                        <h5>AI 의사결정</h5>
                        <div class="decision-queue">
                            <div class="decision-item pending">
                                <span class="decision-time">09:00:15</span>
                                <p>시장 분석 중...</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 성과 차트 -->
                    <div class="performance-panel">
                        <h5>실시간 성과</h5>
                        <canvas id="simPerformanceChart" width="100%" height="200"></canvas>
                    </div>
                </div>
                
                <!-- 시뮬레이션 컨트롤 -->
                <div class="sim-controls">
                    <button class="control-btn pause" onclick="pauseFinalSim()">
                        <i class="fas fa-pause"></i> 일시정지
                    </button>
                    <button class="control-btn speed" onclick="changeSimSpeed()">
                        <i class="fas fa-forward"></i> 2x 속도
                    </button>
                    <button class="control-btn stop" onclick="stopFinalSim()">
                        <i class="fas fa-stop"></i> 종료
                    </button>
                </div>
            </div>
            
            <!-- 최종 결과 리포트 -->
            <div class="final-report" style="display: none;">
                <h4>📊 시뮬레이션 결과 리포트</h4>
                <div class="report-summary">
                    <div class="summary-card">
                        <h5>수익률</h5>
                        <span class="value positive">+15.7%</span>
                    </div>
                    <div class="summary-card">
                        <h5>샤프 비율</h5>
                        <span class="value">1.92</span>
                    </div>
                    <div class="summary-card">
                        <h5>승률</h5>
                        <span class="value">68%</span>
                    </div>
                    <div class="summary-card">
                        <h5>최대 낙폭</h5>
                        <span class="value">-4.8%</span>
                    </div>
                </div>
                <div class="detailed-analysis">
                    <h5>상세 분석</h5>
                    <ul>
                        <li>총 거래 횟수: 127회</li>
                        <li>평균 보유 기간: 3.2일</li>
                        <li>최고 수익 종목: 삼성전자 (+8.5%)</li>
                        <li>최대 손실 종목: SK하이닉스 (-3.2%)</li>
                    </ul>
                </div>
                <button class="export-btn" onclick="exportReport()">
                    <i class="fas fa-download"></i> 리포트 다운로드
                </button>
            </div>
        </div>
    </div>
</section>

<!-- 과정 완료 및 인증서 -->
<div class="course-completion">
    <h2>🎊 축하합니다! Chapter 13 완료!</h2>
    <div class="completion-certificate">
        <div class="certificate-frame">
            <div class="certificate-content">
                <h3>수료증</h3>
                <p class="certificate-title">AI 기반 금융-뉴스 통합 온톨로지 전문가</p>
                <div class="certificate-details">
                    <p>본 과정을 성공적으로 완료하였음을 인증합니다.</p>
                    <p class="achievement-list">
                        ✓ 온톨로지 통합 설계<br>
                        ✓ 실시간 감성 분석 시스템 구축<br>
                        ✓ 패턴 인식 및 예측 모델링<br>
                        ✓ AI 투자 의사결정 시스템 개발<br>
                        ✓ 통합 리스크 관리 구현
                    </p>
                </div>
                <div class="certificate-footer">
                    <span class="issue-date">발급일: 2024.01.15</span>
                    <span class="certificate-id">ID: ONT-FIN-2024-0001</span>
                </div>
            </div>
        </div>
    </div>
    
    <div class="next-steps">
        <h3>다음 단계</h3>
        <p>Chapter 14에서는 AI와 온톨로지의 융합, 그리고 미래 전망에 대해 알아봅니다.</p>
        <div class="preview-topics">
            <span class="topic-badge">대규모 언어 모델</span>
            <span class="topic-badge">지식 그래프 임베딩</span>
            <span class="topic-badge">설명 가능한 AI</span>
            <span class="topic-badge">미래 기술 동향</span>
        </div>
    </div>
</div>

<!-- Part 3 전용 스타일 -->
<style>
/* 네트워크 애니메이션 */
.intelligence-network-animation {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
    opacity: 0.15;
}

.intelligence-network-animation::before {
    content: '';
    position: absolute;
    width: 300%;
    height: 300%;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="%233b82f6"/><circle cx="80" cy="20" r="2" fill="%238b5cf6"/><circle cx="50" cy="50" r="2" fill="%2310b981"/><circle cx="20" cy="80" r="2" fill="%23f59e0b"/><circle cx="80" cy="80" r="2" fill="%23ef4444"/><line x1="20" y1="20" x2="80" y2="20" stroke="%233b82f6" stroke-width="0.5" opacity="0.3"/><line x1="20" y1="20" x2="50" y2="50" stroke="%233b82f6" stroke-width="0.5" opacity="0.3"/><line x1="80" y1="20" x2="50" y2="50" stroke="%238b5cf6" stroke-width="0.5" opacity="0.3"/><line x1="50" y1="50" x2="20" y2="80" stroke="%2310b981" stroke-width="0.5" opacity="0.3"/><line x1="50" y1="50" x2="80" y2="80" stroke="%2310b981" stroke-width="0.5" opacity="0.3"/></svg>');
    background-size: 100px 100px;
    animation: networkFlow 20s linear infinite;
}

@keyframes networkFlow {
    0% { transform: translate(0, 0); }
    100% { transform: translate(-100px, -100px); }
}

/* 마스터 인증 */
.master-certification {
    background: linear-gradient(135deg, #1e293b, #0f172a);
    border-radius: 20px;
    padding: 3rem;
    color: white;
    position: relative;
    overflow: hidden;
}

.master-certification::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(139, 92, 246, 0.1) 0%, transparent 70%);
    animation: rotate 20s linear infinite;
}

@keyframes rotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.certification-display {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: 3rem;
    position: relative;
    z-index: 1;
}

.master-badge-container {
    position: relative;
}

.badge-glow {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 250px;
    height: 250px;
    background: radial-gradient(circle, rgba(251, 191, 36, 0.3) 0%, transparent 70%);
    transform: translate(-50%, -50%);
    animation: pulseGlow 2s ease-in-out infinite;
}

@keyframes pulseGlow {
    0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
    50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; }
}

.master-badge {
    width: 200px;
    height: 200px;
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 10px 40px rgba(251, 191, 36, 0.5);
    position: relative;
    margin: 0 auto;
}

.badge-inner {
    text-align: center;
}

.badge-icon {
    font-size: 3rem;
    display: block;
    margin-bottom: 0.5rem;
}

.certification-level {
    margin-top: 0.5rem;
}

.level-number {
    font-size: 2rem;
    font-weight: bold;
    color: #1e293b;
}

.master-stats {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 2rem;
}

.stat-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-top: 1rem;
}

.stat-item {
    text-align: center;
}

.stat-icon {
    font-size: 2rem;
    display: block;
    margin-bottom: 0.5rem;
}

.stat-value {
    font-size: 1.5rem;
    font-weight: bold;
    color: #fbbf24;
}

/* 스킬 배지 */
.skills-mastered {
    margin-top: 2rem;
}

.skill-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-top: 1rem;
}

.skill-badge {
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.9rem;
}

.skill-badge.legendary {
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    color: #1e293b;
}

.skill-badge.epic {
    background: linear-gradient(135deg, #8b5cf6, #7c3aed);
    color: white;
}

.skill-badge.rare {
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    color: white;
}

/* 커맨드 센터 */
.command-center {
    background: #f8fafc;
    border-radius: 20px;
    padding: 2rem;
    margin-top: 2rem;
}

.dashboard-layout {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.dashboard-section {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

.dashboard-section h4 {
    margin-bottom: 1rem;
    color: #1e293b;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

/* 시장 지표 */
.market-indicators {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
}

.indicator-card {
    background: #f8fafc;
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
}

.indicator-name {
    display: block;
    font-size: 0.85rem;
    color: #64748b;
    margin-bottom: 0.25rem;
}

.indicator-value {
    display: block;
    font-size: 1.25rem;
    font-weight: bold;
    color: #1e293b;
}

.indicator-change {
    display: block;
    font-size: 0.9rem;
    font-weight: 600;
    margin-top: 0.25rem;
}

.indicator-change.positive { color: #10b981; }
.indicator-change.negative { color: #ef4444; }

.sentiment-meter {
    height: 8px;
    background: #e5e7eb;
    border-radius: 4px;
    overflow: hidden;
    margin: 0.5rem 0;
}

.meter-fill.positive { background: #10b981; }

.volatility-gauge {
    position: relative;
    display: inline-block;
}

.gauge-value {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 0.75rem;
    font-weight: 600;
}

/* AI 추천 */
.recommendation-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.recommendation-item {
    background: #f8fafc;
    border-radius: 8px;
    padding: 1rem;
    border-left: 4px solid transparent;
}

.recommendation-item.strong-buy {
    border-left-color: #10b981;
}

.recommendation-item.buy {
    border-left-color: #3b82f6;
}

.recommendation-item.hold {
    border-left-color: #f59e0b;
}

.rec-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}

.stock-info strong {
    margin-right: 0.5rem;
}

.ticker {
    font-size: 0.85rem;
    color: #64748b;
}

.rec-signal {
    font-weight: 600;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.85rem;
}

.recommendation-item.strong-buy .rec-signal {
    background: #d1fae5;
    color: #065f46;
}

.recommendation-item.buy .rec-signal {
    background: #dbeafe;
    color: #1e40af;
}

.recommendation-item.hold .rec-signal {
    background: #fef3c7;
    color: #92400e;
}

.confidence-bar {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 0.5rem;
}

.confidence-bar .bar-fill {
    flex: 1;
    height: 4px;
    background: linear-gradient(90deg, #3b82f6, #8b5cf6);
    border-radius: 2px;
}

.confidence {
    font-size: 0.75rem;
    color: #64748b;
}

.rec-metrics {
    display: flex;
    gap: 1rem;
    margin-top: 0.75rem;
    font-size: 0.85rem;
    color: #64748b;
}

/* 실시간 모니터링 */
.event-timeline {
    max-height: 300px;
    overflow-y: auto;
}

.timeline-item {
    display: flex;
    gap: 1rem;
    padding: 0.75rem;
    border-bottom: 1px solid #e5e7eb;
}

.timeline-item:last-child {
    border-bottom: none;
}

.timeline-item .time {
    font-size: 0.85rem;
    color: #64748b;
    min-width: 50px;
}

.event-content {
    flex: 1;
}

.event-type {
    font-weight: 600;
    font-size: 0.85rem;
    margin-bottom: 0.25rem;
    display: inline-block;
}

.timeline-item.critical .event-type { color: #ef4444; }
.timeline-item.positive .event-type { color: #10b981; }
.timeline-item.neutral .event-type { color: #6b7280; }

.impact {
    font-size: 0.85rem;
    color: #64748b;
    display: block;
    margin-top: 0.25rem;
}

.monitor-controls {
    display: flex;
    gap: 0.5rem;
    margin-top: 1rem;
}

.filter-btn {
    flex: 1;
    padding: 0.5rem;
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 6px;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.filter-btn:hover,
.filter-btn.active {
    background: #3b82f6;
    color: white;
    border-color: #3b82f6;
}

/* 포트폴리오 성과 */
.performance-stats {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin-top: 1rem;
}

.performance-stats .stat {
    text-align: center;
}

.performance-stats .label {
    display: block;
    font-size: 0.85rem;
    color: #64748b;
}

.performance-stats .value {
    display: block;
    font-size: 1.25rem;
    font-weight: bold;
    margin-top: 0.25rem;
}

.performance-stats .value.positive { color: #10b981; }
.performance-stats .value.negative { color: #ef4444; }

/* 고급 분석 도구 */
.advanced-tools {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    margin-top: 1.5rem;
}

.tool-tabs {
    display: flex;
    gap: 1rem;
    margin: 1rem 0;
}

.tab-btn {
    padding: 0.5rem 1rem;
    background: #f8fafc;
    border: 1px solid #e5e7eb;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.tab-btn:hover,
.tab-btn.active {
    background: #3b82f6;
    color: white;
    border-color: #3b82f6;
}

.tool-panel {
    display: none;
    padding: 1.5rem;
    background: #f8fafc;
    border-radius: 8px;
}

.tool-panel.active {
    display: block;
}

.correlation-heatmap {
    margin: 1rem 0;
}

.correlation-insights {
    margin-top: 1.5rem;
}

.correlation-insights ul {
    list-style: none;
    padding: 0;
}

.correlation-insights li {
    padding: 0.5rem 0;
    border-bottom: 1px solid #e5e7eb;
}

/* 시그널 생성 */
.signal-engine {
    background: #f8fafc;
    border-radius: 16px;
    padding: 2rem;
    margin-top: 2rem;
}

.signal-interface {
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    gap: 2rem;
}

.factor-controls {
    margin-top: 1rem;
}

.factor-item {
    display: grid;
    grid-template-columns: 120px 1fr 60px;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.factor-weight {
    width: 100%;
}

.weight-value {
    text-align: right;
    font-weight: 600;
}

.total-weight {
    padding-top: 1rem;
    border-top: 2px solid #e5e7eb;
    display: flex;
    justify-content: space-between;
    font-weight: 600;
}

.signal-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.signal-card {
    background: white;
    border-radius: 8px;
    padding: 1.5rem;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

.signal-card.strong-signal {
    border: 2px solid #10b981;
}

.signal-card.medium-signal {
    border: 2px solid #f59e0b;
}

.signal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.signal-strength {
    font-weight: 600;
}

.signal-score {
    font-size: 1.5rem;
    font-weight: bold;
    color: #1e293b;
}

.signal-factors {
    display: flex;
    gap: 1rem;
    margin: 0.75rem 0;
}

.signal-factors .factor {
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.85rem;
}

.factor.positive {
    background: #d1fae5;
    color: #065f46;
}

.factor.neutral {
    background: #f3f4f6;
    color: #4b5563;
}

.factor.negative {
    background: #fee2e2;
    color: #991b1b;
}

.signal-action {
    display: flex;
    gap: 0.5rem;
    margin-top: 1rem;
}

.execute-btn,
.detail-btn {
    padding: 0.5rem 1rem;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    border: none;
}

.execute-btn {
    background: #10b981;
    color: white;
}

.detail-btn {
    background: white;
    border: 1px solid #e5e7eb;
}

/* 백테스팅 */
.signal-backtesting {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 2px solid #e5e7eb;
}

.backtest-results {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 2rem;
    margin-top: 1rem;
}

.backtest-stats {
    display: grid;
    gap: 0.75rem;
}

.stat-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.stat-row .stat-value.positive { color: #10b981; }
.stat-row .stat-value.negative { color: #ef4444; }

/* 리스크 대시보드 */
.risk-dashboard {
    background: white;
    border-radius: 16px;
    padding: 2rem;
    margin-top: 2rem;
}

.risk-overview {
    display: grid;
    grid-template-columns: 300px 1fr 1fr;
    gap: 2rem;
}

.risk-gauge-container {
    text-align: center;
}

.risk-gauge {
    position: relative;
    margin: 1rem 0;
}

.risk-level {
    font-size: 1.5rem;
    font-weight: bold;
    color: #f59e0b;
    margin-top: 1rem;
}

.risk-score {
    font-size: 0.9rem;
    color: #64748b;
}

.risk-factors .factor-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.risk-factor {
    background: #f8fafc;
    padding: 1rem;
    border-radius: 8px;
    display: grid;
    grid-template-columns: auto 1fr auto;
    gap: 1rem;
    align-items: center;
}

.risk-factor.high { border-left: 3px solid #ef4444; }
.risk-factor.medium { border-left: 3px solid #f59e0b; }
.risk-factor.low { border-left: 3px solid #10b981; }

.factor-icon {
    font-size: 1.5rem;
}

.factor-info {
    flex: 1;
}

.factor-name {
    display: block;
    font-weight: 600;
}

.factor-desc {
    display: block;
    font-size: 0.85rem;
    color: #64748b;
}

.factor-meter {
    width: 100px;
    height: 8px;
    background: #e5e7eb;
    border-radius: 4px;
    overflow: hidden;
}

.meter-fill.high { background: #ef4444; }
.meter-fill.medium { background: #f59e0b; }
.meter-fill.low { background: #10b981; }

.scenario-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
}

.scenario-card {
    background: #f8fafc;
    padding: 1rem;
    border-radius: 8px;
}

.scenario-card h5 {
    margin-bottom: 0.75rem;
    color: #1e293b;
}

.impact-preview,
.mitigation {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
}

.impact-value.negative { color: #ef4444; font-weight: 600; }

/* 리스크 알림 */
.risk-alerts {
    margin-top: 2rem;
    padding: 1.5rem;
    background: #f8fafc;
    border-radius: 8px;
}

.alert-rules {
    margin-top: 1rem;
}

.rule-item {
    margin-bottom: 0.75rem;
}

.rule-item label {
    display: flex;
    align-items: center;
    cursor: pointer;
}

.rule-item input[type="checkbox"] {
    margin-right: 0.5rem;
}

/* 최종 시뮬레이션 */
.simulation-platform {
    background: linear-gradient(135deg, #e0e7ff, #c7d2fe);
    border-radius: 16px;
    padding: 2rem;
    margin-top: 2rem;
}

.simulation-container {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    margin-top: 1rem;
}

.sim-settings {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    margin-bottom: 2rem;
}

.setting-group label {
    display: block;
    font-size: 0.85rem;
    color: #64748b;
    margin-bottom: 0.25rem;
}

.setting-group input,
.setting-group select {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid #e5e7eb;
    border-radius: 4px;
}

.start-sim-btn {
    grid-column: 4;
    padding: 0.75rem;
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
}

.operation-screen {
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    padding: 1rem;
}

.operation-header {
    display: flex;
    justify-content: space-between;
    padding-bottom: 1rem;
    border-bottom: 2px solid #e5e7eb;
    margin-bottom: 1rem;
}

.portfolio-value .value {
    font-size: 1.5rem;
    font-weight: bold;
    margin: 0 0.5rem;
}

.portfolio-value .change {
    font-weight: 600;
}

.operation-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
    gap: 1rem;
}

.holdings-panel,
.decision-panel {
    background: #f8fafc;
    border-radius: 6px;
    padding: 1rem;
}

.performance-panel {
    grid-column: span 2;
    background: #f8fafc;
    border-radius: 6px;
    padding: 1rem;
}

.holdings-list {
    margin-top: 0.5rem;
}

.holding-item {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0;
    border-bottom: 1px solid #e5e7eb;
}

.decision-queue {
    margin-top: 0.5rem;
    max-height: 150px;
    overflow-y: auto;
}

.decision-item {
    padding: 0.5rem;
    margin-bottom: 0.5rem;
    background: white;
    border-radius: 4px;
    font-size: 0.85rem;
}

.sim-controls {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin-top: 1rem;
}

.control-btn {
    padding: 0.5rem 1rem;
    background: white;
    border: 2px solid #3b82f6;
    border-radius: 6px;
    color: #3b82f6;
    font-weight: 600;
    cursor: pointer;
}

.control-btn:hover {
    background: #3b82f6;
    color: white;
}

/* 최종 리포트 */
.final-report {
    margin-top: 2rem;
    padding: 2rem;
    background: #f8fafc;
    border-radius: 8px;
}

.report-summary {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    margin: 1.5rem 0;
}

.summary-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    text-align: center;
}

.summary-card h5 {
    font-size: 0.9rem;
    color: #64748b;
    margin-bottom: 0.5rem;
}

.summary-card .value {
    font-size: 1.5rem;
    font-weight: bold;
}

.summary-card .value.positive { color: #10b981; }

.detailed-analysis {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    margin: 1rem 0;
}

.export-btn {
    padding: 0.75rem 1.5rem;
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
}

/* 수료증 */
.course-completion {
    background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
    border-radius: 20px;
    padding: 3rem;
    margin-top: 3rem;
    text-align: center;
}

.completion-certificate {
    margin: 2rem 0;
}

.certificate-frame {
    max-width: 600px;
    margin: 0 auto;
    background: white;
    border: 3px solid #fbbf24;
    border-radius: 16px;
    padding: 3rem;
    box-shadow: 0 10px 40px rgba(0,0,0,0.1);
}

.certificate-content h3 {
    font-size: 2rem;
    color: #1e293b;
    margin-bottom: 1rem;
}

.certificate-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: #3b82f6;
    margin-bottom: 2rem;
}

.achievement-list {
    text-align: left;
    line-height: 1.8;
    color: #4b5563;
}

.certificate-footer {
    display: flex;
    justify-content: space-between;
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 1px solid #e5e7eb;
    font-size: 0.85rem;
    color: #64748b;
}

.preview-topics {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
    margin-top: 1rem;
}

.topic-badge {
    padding: 0.5rem 1rem;
    background: #3b82f6;
    color: white;
    border-radius: 20px;
    font-size: 0.9rem;
}

/* 반응형 디자인 */
@media (max-width: 768px) {
    .certification-display,
    .dashboard-layout,
    .risk-overview,
    .signal-interface {
        grid-template-columns: 1fr;
    }
    
    .stat-grid,
    .market-indicators,
    .performance-stats {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .sim-settings {
        grid-template-columns: 1fr;
    }
    
    .start-sim-btn {
        grid-column: 1;
    }
    
    .operation-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<!-- JavaScript 초기화 -->
<script>
// 대시보드 탭 전환
document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        const tool = this.dataset.tool;
        
        // 탭 활성화
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        
        // 패널 전환
        document.querySelectorAll('.tool-panel').forEach(p => p.classList.remove('active'));
        document.querySelector(`.tool-panel.${tool}`).classList.add('active');
    });
});

// 팩터 가중치 조정
document.querySelectorAll('.factor-weight').forEach(slider => {
    slider.addEventListener('input', function() {
        const value = this.value;
        this.nextElementSibling.textContent = value + '%';
        
        // 총 가중치 계산
        let total = 0;
        document.querySelectorAll('.factor-weight').forEach(s => {
            total += parseInt(s.value);
        });
        document.querySelector('.total-value').textContent = total + '%';
    });
});

// 최종 시뮬레이션
let simulationRunning = false;
let simulationSpeed = 1;

function startFinalSimulation() {
    simulationRunning = true;
    document.querySelector('.sim-settings').style.display = 'none';
    document.querySelector('.operation-screen').style.display = 'block';
    
    // 시뮬레이션 로직
    runSimulation();
}

function runSimulation() {
    if (!simulationRunning) return;
    
    // 시간 업데이트
    const now = new Date();
    document.querySelector('.operation-time .time').textContent = 
        now.toTimeString().split(' ')[0];
    
    // 랜덤 이벤트 생성
    if (Math.random() > 0.7) {
        generateMarketEvent();
    }
    
    // 포트폴리오 업데이트
    updateSimulationPortfolio();
    
    // 다음 틱
    setTimeout(runSimulation, 1000 / simulationSpeed);
}

function generateMarketEvent() {
    const events = [
        { type: 'buy', stock: '삼성전자', reason: '긍정적 뉴스 감지' },
        { type: 'sell', stock: 'SK하이닉스', reason: '목표가 도달' },
        { type: 'hold', stock: '현대차', reason: '변동성 증가' }
    ];
    
    const event = events[Math.floor(Math.random() * events.length)];
    const time = new Date().toTimeString().split(' ')[0];
    
    const decisionHtml = `
        <div class="decision-item">
            <span class="decision-time">${time}</span>
            <p>${event.type.toUpperCase()}: ${event.stock} - ${event.reason}</p>
        </div>
    `;
    
    const queue = document.querySelector('.decision-queue');
    queue.insertAdjacentHTML('afterbegin', decisionHtml);
}

function updateSimulationPortfolio() {
    // 포트폴리오 가치 업데이트
    const currentValue = parseFloat(
        document.querySelector('.portfolio-value .value').textContent.replace(/[₩,]/g, '')
    );
    const change = (Math.random() - 0.5) * 0.001; // ±0.1% 변동
    const newValue = currentValue * (1 + change);
    
    document.querySelector('.portfolio-value .value').textContent = 
        '₩' + newValue.toLocaleString('ko-KR', { maximumFractionDigits: 0 });
    
    const totalChange = ((newValue - 10000000) / 10000000 * 100).toFixed(2);
    const changeElement = document.querySelector('.portfolio-value .change');
    changeElement.textContent = (totalChange >= 0 ? '+' : '') + totalChange + '%';
    changeElement.className = totalChange >= 0 ? 'change positive' : 'change negative';
}

function pauseFinalSim() {
    simulationRunning = !simulationRunning;
    if (simulationRunning) {
        runSimulation();
    }
}

function changeSimSpeed() {
    simulationSpeed = simulationSpeed === 1 ? 2 : (simulationSpeed === 2 ? 5 : 1);
    document.querySelector('.control-btn.speed').innerHTML = 
        `<i class="fas fa-forward"></i> ${simulationSpeed}x 속도`;
}

function stopFinalSim() {
    simulationRunning = false;
    document.querySelector('.operation-screen').style.display = 'none';
    document.querySelector('.final-report').style.display = 'block';
}

function exportReport() {
    alert('투자 시뮬레이션 리포트를 다운로드합니다...');
}

// 차트 초기화
document.addEventListener('DOMContentLoaded', function() {
    // 포트폴리오 차트
    const portfolioCtx = document.getElementById('portfolioChart');
    if (portfolioCtx && portfolioCtx.getContext) {
        // Chart.js로 포트폴리오 성과 차트 그리기
    }
    
    // 상관관계 매트릭스
    const correlationCtx = document.getElementById('correlationMatrix');
    if (correlationCtx && correlationCtx.getContext) {
        // 히트맵 그리기
    }
    
    // 백테스트 차트
    const backtestCtx = document.getElementById('backtestChart');
    if (backtestCtx && backtestCtx.getContext) {
        // 백테스트 결과 차트
    }
});

// 실시간 업데이트 시뮬레이션
setInterval(() => {
    // 시장 지표 업데이트
    document.querySelectorAll('.indicator-change').forEach(change => {
        const current = parseFloat(change.textContent);
        const delta = (Math.random() - 0.5) * 0.1;
        const newValue = current + delta;
        change.textContent = (newValue >= 0 ? '+' : '') + newValue.toFixed(2) + '%';
        change.className = newValue >= 0 ? 'indicator-change positive' : 'indicator-change negative';
    });
}, 5000);
</script>