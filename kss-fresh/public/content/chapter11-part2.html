<!-- Chapter 11: 온톨로지 통합과 매핑 (인터랙티브 마스터 버전) Part 2 -->

<!-- Part 2 시작 -->
<div class="part-header heterogeneity-mastery">
    <div class="heterogeneity-visualization"></div>
    <h2 class="part-title">Part 2: 온톨로지 이질성 문제와 해결 기법</h2>
    <p class="part-description">서로 다른 온톨로지들 사이의 차이를 이해하고, 이를 해결하는 고급 기법들을 마스터해보세요!</p>
</div>

<!-- 이질성 전문가 준비도 -->
<div class="progress-check heterogeneity-expert">
    <h3>🔍 이질성 해결 전문가 준비도</h3>
    <div class="heterogeneity-readiness">
        <div class="expertise-radar">
            <div class="radar-categories">
                <div class="expertise-domain">
                    <div class="domain-title">
                        <span class="domain-icon">🔤</span>
                        <h4>구문적 분석</h4>
                    </div>
                    <div class="expertise-metrics">
                        <div class="metric-item">
                            <span class="metric-name">언어 변환</span>
                            <div class="metric-gauge">
                                <div class="gauge-fill" style="width: 88%"></div>
                            </div>
                            <span class="metric-value">88%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-name">형식 매핑</span>
                            <div class="metric-gauge">
                                <div class="gauge-fill" style="width: 82%"></div>
                            </div>
                            <span class="metric-value">82%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-name">스키마 변환</span>
                            <div class="metric-gauge">
                                <div class="gauge-fill" style="width: 75%"></div>
                            </div>
                            <span class="metric-value">75%</span>
                        </div>
                    </div>
                </div>
                
                <div class="expertise-domain">
                    <div class="domain-title">
                        <span class="domain-icon">🏗️</span>
                        <h4>구조적 분석</h4>
                    </div>
                    <div class="expertise-metrics">
                        <div class="metric-item">
                            <span class="metric-name">계층 매핑</span>
                            <div class="metric-gauge">
                                <div class="gauge-fill" style="width: 79%"></div>
                            </div>
                            <span class="metric-value">79%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-name">관계 분석</span>
                            <div class="metric-gauge">
                                <div class="gauge-fill" style="width: 85%"></div>
                            </div>
                            <span class="metric-value">85%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-name">속성 정렬</span>
                            <div class="metric-gauge">
                                <div class="gauge-fill" style="width: 77%"></div>
                            </div>
                            <span class="metric-value">77%</span>
                        </div>
                    </div>
                </div>
                
                <div class="expertise-domain">
                    <div class="domain-title">
                        <span class="domain-icon">🧠</span>
                        <h4>의미적 분석</h4>
                    </div>
                    <div class="expertise-metrics">
                        <div class="metric-item">
                            <span class="metric-name">개념 매칭</span>
                            <div class="metric-gauge">
                                <div class="gauge-fill" style="width: 90%"></div>
                            </div>
                            <span class="metric-value">90%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-name">의미 추론</span>
                            <div class="metric-gauge">
                                <div class="gauge-fill" style="width: 83%"></div>
                            </div>
                            <span class="metric-value">83%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-name">컨텍스트 분석</span>
                            <div class="metric-gauge">
                                <div class="gauge-fill" style="width: 78%"></div>
                            </div>
                            <span class="metric-value">78%</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="expertise-summary">
                <div class="summary-badge">
                    <div class="badge-icon">🎖️</div>
                    <div class="badge-content">
                        <h5>이질성 해결 마스터</h5>
                        <p>복잡한 온톨로지 간 차이점을 분석하고 해결할 수 있는 전문가 수준입니다!</p>
                        <div class="mastery-level">
                            <span class="level-indicator expert">Expert Level</span>
                            <span class="xp-points">2,450 XP</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 섹션 11.3: 이질성 유형 분석기 -->
<section class="content-section heterogeneity-analyzer">
    <h2>11.3 온톨로지 이질성 유형 분석</h2>
    
    <!-- 인터랙티브 이질성 탐지기 -->
    <div class="heterogeneity-detector">
        <h3>🔬 이질성 자동 탐지 시스템</h3>
        <div class="detector-interface">
            <div class="ontology-input-panel">
                <h4>온톨로지 샘플 선택</h4>
                <div class="sample-selector">
                    <button class="sample-btn active" onclick="loadOntologySample('medical')">
                        <div class="sample-icon">🏥</div>
                        <div class="sample-info">
                            <h5>의료 온톨로지</h5>
                            <p>Hospital A vs Hospital B</p>
                        </div>
                    </button>
                    
                    <button class="sample-btn" onclick="loadOntologySample('product')">
                        <div class="sample-icon">📦</div>
                        <div class="sample-info">
                            <h5>제품 분류</h5>
                            <p>E-commerce A vs B</p>
                        </div>
                    </button>
                    
                    <button class="sample-btn" onclick="loadOntologySample('academic')">
                        <div class="sample-icon">🎓</div>
                        <div class="sample-info">
                            <h5>학술 분야</h5>
                            <p>University A vs B</p>
                        </div>
                    </button>
                </div>
            </div>
            
            <div class="analysis-workspace">
                <div id="medical-analysis" class="analysis-content active">
                    <div class="ontology-comparison-detailed">
                        <div class="ontology-side source">
                            <h5>🏥 서울대병원 온톨로지</h5>
                            <div class="ontology-structure">
                                <div class="structure-tree">
                                    <div class="tree-node root">의료진</div>
                                    <div class="tree-branch">
                                        <div class="tree-node">전문의</div>
                                        <div class="tree-subbranch">
                                            <div class="tree-node">과장</div>
                                            <div class="tree-node">부장</div>
                                            <div class="tree-node">원장</div>
                                        </div>
                                    </div>
                                    <div class="tree-branch">
                                        <div class="tree-node">일반의</div>
                                        <div class="tree-subbranch">
                                            <div class="tree-node">인턴</div>
                                            <div class="tree-node">레지던트</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="ontology-properties">
                                    <h6>주요 속성</h6>
                                    <ul>
                                        <li>전문분야: 내과, 외과, 소아과...</li>
                                        <li>경력년수: 숫자</li>
                                        <li>면허번호: 문자열</li>
                                        <li>근무병원: 서울대병원</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="heterogeneity-detector-center">
                            <div class="detector-scanner">
                                <div class="scanner-animation"></div>
                                <h6>이질성 탐지 중...</h6>
                                <div class="detection-progress">
                                    <div class="progress-ring">
                                        <svg width="120" height="120">
                                            <circle cx="60" cy="60" r="54" stroke="#e5e7eb" stroke-width="8" fill="none"/>
                                            <circle cx="60" cy="60" r="54" stroke="#3b82f6" stroke-width="8" fill="none"
                                                    stroke-dasharray="339" stroke-dashoffset="85" 
                                                    style="transform: rotate(-90deg); transform-origin: 60px 60px;"/>
                                        </svg>
                                        <div class="progress-text">
                                            <span class="progress-value">75%</span>
                                            <span class="progress-label">완료</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="ontology-side target">
                            <h5>🏥 연세세브란스 온톨로지</h5>
                            <div class="ontology-structure">
                                <div class="structure-tree">
                                    <div class="tree-node root">직원</div>
                                    <div class="tree-branch">
                                        <div class="tree-node">의사</div>
                                        <div class="tree-subbranch">
                                            <div class="tree-node">주치의</div>
                                            <div class="tree-node">전담의</div>
                                            <div class="tree-node">교수</div>
                                        </div>
                                    </div>
                                    <div class="tree-branch">
                                        <div class="tree-node">수련의</div>
                                        <div class="tree-subbranch">
                                            <div class="tree-node">전공의</div>
                                            <div class="tree-node">펠로우</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="ontology-properties">
                                    <h6>주요 속성</h6>
                                    <ul>
                                        <li>진료과목: 심장내과, 신경외과...</li>
                                        <li>근무년수: 정수</li>
                                        <li>의사면허: ID</li>
                                        <li>소속기관: 연세의료원</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="heterogeneity-results">
                        <h5>🔍 탐지된 이질성 유형</h5>
                        <div class="heterogeneity-types-grid">
                            <div class="heterogeneity-type syntactic">
                                <div class="type-header">
                                    <span class="type-icon">🔤</span>
                                    <h6>구문적 이질성</h6>
                                    <span class="severity high">높음</span>
                                </div>
                                <div class="type-details">
                                    <div class="issue-list">
                                        <div class="issue-item">
                                            <span class="issue-label">언어 차이:</span>
                                            <span class="issue-desc">한글 vs 영문 용어 혼용</span>
                                        </div>
                                        <div class="issue-item">
                                            <span class="issue-label">네이밍 규칙:</span>
                                            <span class="issue-desc">camelCase vs snake_case</span>
                                        </div>
                                        <div class="issue-item">
                                            <span class="issue-label">데이터 타입:</span>
                                            <span class="issue-desc">string vs xsd:string</span>
                                        </div>
                                    </div>
                                    <div class="resolution-hint">
                                        <span class="hint-icon">💡</span>
                                        <span>스키마 매핑과 변환 규칙 적용 필요</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="heterogeneity-type structural">
                                <div class="type-header">
                                    <span class="type-icon">🏗️</span>
                                    <h6>구조적 이질성</h6>
                                    <span class="severity medium">중간</span>
                                </div>
                                <div class="type-details">
                                    <div class="issue-list">
                                        <div class="issue-item">
                                            <span class="issue-label">계층 구조:</span>
                                            <span class="issue-desc">3단계 vs 4단계 깊이</span>
                                        </div>
                                        <div class="issue-item">
                                            <span class="issue-label">관계 모델:</span>
                                            <span class="issue-desc">상속 vs 구성 관계</span>
                                        </div>
                                        <div class="issue-item">
                                            <span class="issue-label">속성 위치:</span>
                                            <span class="issue-desc">서로 다른 클래스에 배치</span>
                                        </div>
                                    </div>
                                    <div class="resolution-hint">
                                        <span class="hint-icon">💡</span>
                                        <span>구조 정렬과 매핑 테이블 생성 필요</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="heterogeneity-type semantic">
                                <div class="type-header">
                                    <span class="type-icon">🧠</span>
                                    <h6>의미적 이질성</h6>
                                    <span class="severity high">높음</span>
                                </div>
                                <div class="type-details">
                                    <div class="issue-list">
                                        <div class="issue-item">
                                            <span class="issue-label">용어 의미:</span>
                                            <span class="issue-desc">"전문의" vs "주치의" 개념 차이</span>
                                        </div>
                                        <div class="issue-item">
                                            <span class="issue-label">범위 차이:</span>
                                            <span class="issue-desc">포함 관계의 불일치</span>
                                        </div>
                                        <div class="issue-item">
                                            <span class="issue-label">컨텍스트:</span>
                                            <span class="issue-desc">병원별 조직 문화 반영</span>
                                        </div>
                                    </div>
                                    <div class="resolution-hint">
                                        <span class="hint-icon">💡</span>
                                        <span>도메인 전문가 협의와 의미 매핑 필요</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="heterogeneity-type conceptual">
                                <div class="type-header">
                                    <span class="type-icon">💭</span>
                                    <h6>개념적 이질성</h6>
                                    <span class="severity medium">중간</span>
                                </div>
                                <div class="type-details">
                                    <div class="issue-list">
                                        <div class="issue-item">
                                            <span class="issue-label">모델링 접근:</span>
                                            <span class="issue-desc">역할 기반 vs 직급 기반</span>
                                        </div>
                                        <div class="issue-item">
                                            <span class="issue-label">범위 설정:</span>
                                            <span class="issue-desc">세부 분류 수준 차이</span>
                                        </div>
                                        <div class="issue-item">
                                            <span class="issue-label">관점 차이:</span>
                                            <span class="issue-desc">의료진 vs 직원 관점</span>
                                        </div>
                                    </div>
                                    <div class="resolution-hint">
                                        <span class="hint-icon">💡</span>
                                        <span>상위 개념 도출과 공통 모델 설계 필요</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="product-analysis" class="analysis-content">
                    <div class="ontology-comparison-detailed">
                        <div class="ontology-side source">
                            <h5>🛍️ 아마존 제품분류</h5>
                            <div class="ontology-structure">
                                <div class="structure-tree">
                                    <div class="tree-node root">Products</div>
                                    <div class="tree-branch">
                                        <div class="tree-node">Electronics</div>
                                        <div class="tree-subbranch">
                                            <div class="tree-node">Computers</div>
                                            <div class="tree-node">Mobile Phones</div>
                                        </div>
                                    </div>
                                    <div class="tree-branch">
                                        <div class="tree-node">Clothing</div>
                                        <div class="tree-subbranch">
                                            <div class="tree-node">Men's Fashion</div>
                                            <div class="tree-node">Women's Fashion</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="heterogeneity-detector-center">
                            <div class="detector-scanner">
                                <h6>제품 분류 차이 분석</h6>
                                <div class="comparison-metrics">
                                    <div class="metric-card">
                                        <span class="metric-label">카테고리 수</span>
                                        <span class="metric-value">1,247</span>
                                    </div>
                                    <div class="metric-card">
                                        <span class="metric-label">평균 깊이</span>
                                        <span class="metric-value">4.2단계</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="ontology-side target">
                            <h5>🛍️ 쿠팡 제품분류</h5>
                            <div class="ontology-structure">
                                <div class="structure-tree">
                                    <div class="tree-node root">상품</div>
                                    <div class="tree-branch">
                                        <div class="tree-node">디지털/가전</div>
                                        <div class="tree-subbranch">
                                            <div class="tree-node">노트북/PC</div>
                                            <div class="tree-node">스마트폰</div>
                                        </div>
                                    </div>
                                    <div class="tree-branch">
                                        <div class="tree-node">패션의류</div>
                                        <div class="tree-subbranch">
                                            <div class="tree-node">남성의류</div>
                                            <div class="tree-node">여성의류</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="academic-analysis" class="analysis-content">
                    <div class="ontology-comparison-detailed">
                        <div class="ontology-side source">
                            <h5>🎓 MIT 학과체계</h5>
                            <div class="ontology-structure">
                                <div class="structure-tree">
                                    <div class="tree-node root">Departments</div>
                                    <div class="tree-branch">
                                        <div class="tree-node">School of Engineering</div>
                                        <div class="tree-subbranch">
                                            <div class="tree-node">EECS</div>
                                            <div class="tree-node">Mechanical</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="heterogeneity-detector-center">
                            <div class="detector-scanner">
                                <h6>학술 체계 비교</h6>
                                <div class="academic-differences">
                                    <div class="diff-item">교육과정 구조</div>
                                    <div class="diff-item">학위 체계</div>
                                    <div class="diff-item">연구 분야</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="ontology-side target">
                            <h5>🎓 서울대 학과체계</h5>
                            <div class="ontology-structure">
                                <div class="structure-tree">
                                    <div class="tree-node root">학과</div>
                                    <div class="tree-branch">
                                        <div class="tree-node">공과대학</div>
                                        <div class="tree-subbranch">
                                            <div class="tree-node">컴퓨터공학부</div>
                                            <div class="tree-node">기계공학부</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 섹션 11.4: 매핑 기법 실습 -->
<section class="content-section mapping-workshop">
    <h2>11.4 온톨로지 매핑 기법 마스터 클래스</h2>
    
    <!-- 매핑 기법 학습 센터 -->
    <div class="mapping-learning-center">
        <h3>🎯 매핑 기법 종합 실습장</h3>
        <div class="mapping-interface">
            <div class="technique-selector">
                <h4>매핑 기법 선택</h4>
                <div class="technique-tabs">
                    <button class="technique-tab active" onclick="showMappingTechnique('lexical')">
                        <span class="tab-icon">📝</span>
                        <span class="tab-name">어휘적 매핑</span>
                        <span class="difficulty easy">쉬움</span>
                    </button>
                    
                    <button class="technique-tab" onclick="showMappingTechnique('structural')">
                        <span class="tab-icon">🏗️</span>
                        <span class="tab-name">구조적 매핑</span>
                        <span class="difficulty medium">중간</span>
                    </button>
                    
                    <button class="technique-tab" onclick="showMappingTechnique('instance')">
                        <span class="tab-icon">📊</span>
                        <span class="tab-name">인스턴스 기반</span>
                        <span class="difficulty medium">중간</span>
                    </button>
                    
                    <button class="technique-tab" onclick="showMappingTechnique('semantic')">
                        <span class="tab-icon">🧠</span>
                        <span class="tab-name">의미적 매핑</span>
                        <span class="difficulty hard">어려움</span>
                    </button>
                </div>
            </div>
            
            <div class="mapping-workspace">
                <div id="lexical-mapping" class="mapping-content active">
                    <div class="technique-overview">
                        <h5>📝 어휘적 매핑 (Lexical Mapping)</h5>
                        <p>용어의 문자열 유사성을 기반으로 매핑 관계를 찾는 기법입니다.</p>
                    </div>
                    
                    <div class="mapping-demo lexical">
                        <h6>실시간 어휘적 매핑 데모</h6>
                        <div class="demo-interface">
                            <div class="term-inputs">
                                <div class="input-group">
                                    <label>온톨로지 A 용어들</label>
                                    <div class="term-list source">
                                        <div class="term-item" data-term="doctor">doctor</div>
                                        <div class="term-item" data-term="patient">patient</div>
                                        <div class="term-item" data-term="medication">medication</div>
                                        <div class="term-item" data-term="hospital">hospital</div>
                                        <div class="term-item" data-term="surgery">surgery</div>
                                    </div>
                                </div>
                                
                                <div class="input-group">
                                    <label>온톨로지 B 용어들</label>
                                    <div class="term-list target">
                                        <div class="term-item" data-term="physician">physician</div>
                                        <div class="term-item" data-term="client">client</div>
                                        <div class="term-item" data-term="medicine">medicine</div>
                                        <div class="term-item" data-term="clinic">clinic</div>
                                        <div class="term-item" data-term="operation">operation</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mapping-results">
                                <h7>🔍 유사성 분석 결과</h7>
                                <div class="similarity-matrix">
                                    <div class="matrix-row">
                                        <span class="term-pair">doctor ↔ physician</span>
                                        <div class="similarity-score high">
                                            <div class="score-bar" style="width: 85%"></div>
                                            <span class="score-value">85%</span>
                                        </div>
                                        <span class="match-type synonym">동의어</span>
                                    </div>
                                    
                                    <div class="matrix-row">
                                        <span class="term-pair">medication ↔ medicine</span>
                                        <div class="similarity-score high">
                                            <div class="score-bar" style="width: 92%"></div>
                                            <span class="score-value">92%</span>
                                        </div>
                                        <span class="match-type lexical">어휘 유사</span>
                                    </div>
                                    
                                    <div class="matrix-row">
                                        <span class="term-pair">surgery ↔ operation</span>
                                        <div class="similarity-score medium">
                                            <div class="score-bar" style="width: 78%"></div>
                                            <span class="score-value">78%</span>
                                        </div>
                                        <span class="match-type semantic">의미 유사</span>
                                    </div>
                                    
                                    <div class="matrix-row">
                                        <span class="term-pair">hospital ↔ clinic</span>
                                        <div class="similarity-score medium">
                                            <div class="score-bar" style="width: 65%"></div>
                                            <span class="score-value">65%</span>
                                        </div>
                                        <span class="match-type related">관련어</span>
                                    </div>
                                    
                                    <div class="matrix-row">
                                        <span class="term-pair">patient ↔ client</span>
                                        <div class="similarity-score low">
                                            <div class="score-bar" style="width: 45%"></div>
                                            <span class="score-value">45%</span>
                                        </div>
                                        <span class="match-type contextual">문맥 의존</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="technique-tips">
                            <h7>💡 어휘적 매핑 팁</h7>
                            <ul>
                                <li><strong>편집 거리:</strong> Levenshtein 거리로 문자열 유사성 측정</li>
                                <li><strong>토큰화:</strong> 복합어를 분해하여 개별 단어로 비교</li>
                                <li><strong>정규화:</strong> 대소문자, 공백, 특수문자 통일</li>
                                <li><strong>한계:</strong> 동의어나 다국어 용어는 탐지 어려움</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div id="structural-mapping" class="mapping-content">
                    <div class="technique-overview">
                        <h5>🏗️ 구조적 매핑 (Structural Mapping)</h5>
                        <p>온톨로지의 구조적 특성(계층, 관계, 제약)을 분석하여 매핑하는 기법입니다.</p>
                    </div>
                    
                    <div class="mapping-demo structural">
                        <h6>구조적 패턴 분석 시뮬레이터</h6>
                        <div class="structure-analyzer">
                            <div class="hierarchy-comparison">
                                <div class="hierarchy-side left">
                                    <h7>온톨로지 A 구조</h7>
                                    <div class="hierarchy-tree">
                                        <div class="tree-level level-0">
                                            <div class="concept-node">Vehicle</div>
                                        </div>
                                        <div class="tree-level level-1">
                                            <div class="concept-node">LandVehicle</div>
                                            <div class="concept-node">WaterVehicle</div>
                                        </div>
                                        <div class="tree-level level-2">
                                            <div class="concept-node">Car</div>
                                            <div class="concept-node">Bicycle</div>
                                            <div class="concept-node">Boat</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="structural-analysis">
                                    <h7>구조 분석 결과</h7>
                                    <div class="analysis-metrics">
                                        <div class="metric-item">
                                            <span class="metric-name">계층 깊이</span>
                                            <div class="metric-comparison">
                                                <div class="value-a">3단계</div>
                                                <div class="comparison-arrow">vs</div>
                                                <div class="value-b">4단계</div>
                                            </div>
                                        </div>
                                        
                                        <div class="metric-item">
                                            <span class="metric-name">분기 계수</span>
                                            <div class="metric-comparison">
                                                <div class="value-a">2.1</div>
                                                <div class="comparison-arrow">vs</div>
                                                <div class="value-b">1.8</div>
                                            </div>
                                        </div>
                                        
                                        <div class="metric-item">
                                            <span class="metric-name">리프 노드</span>
                                            <div class="metric-comparison">
                                                <div class="value-a">3개</div>
                                                <div class="comparison-arrow">vs</div>
                                                <div class="value-b">4개</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="structural-mappings">
                                        <div class="mapping-rule">
                                            <span class="rule-icon">🔗</span>
                                            <span class="rule-text">Vehicle ≡ Transportation</span>
                                            <span class="confidence">신뢰도: 95%</span>
                                        </div>
                                        
                                        <div class="mapping-rule">
                                            <span class="rule-icon">🔗</span>
                                            <span class="rule-text">Car ⊑ Automobile</span>
                                            <span class="confidence">신뢰도: 88%</span>
                                        </div>
                                        
                                        <div class="mapping-rule">
                                            <span class="rule-icon">🔗</span>
                                            <span class="rule-text">LandVehicle ≡ GroundTransport</span>
                                            <span class="confidence">신뢰도: 82%</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="hierarchy-side right">
                                    <h7>온톨로지 B 구조</h7>
                                    <div class="hierarchy-tree">
                                        <div class="tree-level level-0">
                                            <div class="concept-node">Transportation</div>
                                        </div>
                                        <div class="tree-level level-1">
                                            <div class="concept-node">GroundTransport</div>
                                            <div class="concept-node">WaterTransport</div>
                                        </div>
                                        <div class="tree-level level-2">
                                            <div class="concept-node">MotorVehicle</div>
                                            <div class="concept-node">NonMotor</div>
                                            <div class="concept-node">Ship</div>
                                        </div>
                                        <div class="tree-level level-3">
                                            <div class="concept-node">Automobile</div>
                                            <div class="concept-node">Bike</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="instance-mapping" class="mapping-content">
                    <div class="technique-overview">
                        <h5>📊 인스턴스 기반 매핑</h5>
                        <p>실제 데이터 인스턴스를 분석하여 개념 간 관계를 추론하는 기법입니다.</p>
                    </div>
                    
                    <div class="mapping-demo instance">
                        <h6>데이터 기반 매핑 발견기</h6>
                        <div class="instance-analyzer">
                            <div class="data-samples">
                                <div class="sample-group group-a">
                                    <h7>데이터셋 A 샘플</h7>
                                    <div class="data-table">
                                        <table>
                                            <thead>
                                                <tr>
                                                    <th>Name</th>
                                                    <th>Type</th>
                                                    <th>Price</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>iPhone 15</td>
                                                    <td>Smartphone</td>
                                                    <td>$999</td>
                                                </tr>
                                                <tr>
                                                    <td>MacBook Pro</td>
                                                    <td>Laptop</td>
                                                    <td>$2399</td>
                                                </tr>
                                                <tr>
                                                    <td>AirPods</td>
                                                    <td>Headphones</td>
                                                    <td>$179</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                
                                <div class="mapping-analysis-center">
                                    <h7>인스턴스 분석</h7>
                                    <div class="analysis-process">
                                        <div class="process-step active">
                                            <div class="step-icon">1</div>
                                            <div class="step-desc">데이터 수집</div>
                                        </div>
                                        <div class="process-arrow">→</div>
                                        <div class="process-step active">
                                            <div class="step-icon">2</div>
                                            <div class="step-desc">패턴 추출</div>
                                        </div>
                                        <div class="process-arrow">→</div>
                                        <div class="process-step active">
                                            <div class="step-icon">3</div>
                                            <div class="step-desc">매핑 추론</div>
                                        </div>
                                    </div>
                                    
                                    <div class="discovered-mappings">
                                        <div class="mapping-discovery">
                                            <span class="discovery-icon">🔍</span>
                                            <span class="discovery-text">Smartphone ≡ MobilePhone</span>
                                            <div class="evidence-count">증거: 15개 인스턴스</div>
                                        </div>
                                        
                                        <div class="mapping-discovery">
                                            <span class="discovery-icon">🔍</span>
                                            <span class="discovery-text">Laptop ≡ Notebook</span>
                                            <div class="evidence-count">증거: 8개 인스턴스</div>
                                        </div>
                                        
                                        <div class="mapping-discovery">
                                            <span class="discovery-icon">🔍</span>
                                            <span class="discovery-text">Price ≡ Cost</span>
                                            <div class="evidence-count">증거: 모든 인스턴스</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="sample-group group-b">
                                    <h7>데이터셋 B 샘플</h7>
                                    <div class="data-table">
                                        <table>
                                            <thead>
                                                <tr>
                                                    <th>Product</th>
                                                    <th>Category</th>
                                                    <th>Cost</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Galaxy S24</td>
                                                    <td>MobilePhone</td>
                                                    <td>$899</td>
                                                </tr>
                                                <tr>
                                                    <td>ThinkPad X1</td>
                                                    <td>Notebook</td>
                                                    <td>$1899</td>
                                                </tr>
                                                <tr>
                                                    <td>Sony WH-1000XM5</td>
                                                    <td>AudioDevice</td>
                                                    <td>$399</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="semantic-mapping" class="mapping-content">
                    <div class="technique-overview">
                        <h5>🧠 의미적 매핑 (Semantic Mapping)</h5>
                        <p>외부 지식 베이스와 추론을 활용하여 개념의 의미적 관계를 찾는 고급 기법입니다.</p>
                    </div>
                    
                    <div class="mapping-demo semantic">
                        <h6>지식 기반 의미 매핑 엔진</h6>
                        <div class="semantic-engine">
                            <div class="knowledge-sources">
                                <h7>활용 지식 소스</h7>
                                <div class="source-grid">
                                    <div class="knowledge-source">
                                        <div class="source-icon">🌐</div>
                                        <div class="source-info">
                                            <h8>WordNet</h8>
                                            <p>영어 어휘 의미망</p>
                                            <div class="source-status active">활성</div>
                                        </div>
                                    </div>
                                    
                                    <div class="knowledge-source">
                                        <div class="source-icon">🔗</div>
                                        <div class="source-info">
                                            <h8>DBpedia</h8>
                                            <p>위키피디아 구조화 데이터</p>
                                            <div class="source-status active">활성</div>
                                        </div>
                                    </div>
                                    
                                    <div class="knowledge-source">
                                        <div class="source-icon">🏛️</div>
                                        <div class="source-info">
                                            <h8>UMLS</h8>
                                            <p>의료 용어 통합 시스템</p>
                                            <div class="source-status active">활성</div>
                                        </div>
                                    </div>
                                    
                                    <div class="knowledge-source">
                                        <div class="source-icon">🎓</div>
                                        <div class="source-info">
                                            <h8>ConceptNet</h8>
                                            <p>상식 지식 그래프</p>
                                            <div class="source-status active">활성</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="semantic-analysis">
                                <h7>의미 관계 분석</h7>
                                <div class="concept-pair">
                                    <div class="concept-input">
                                        <input type="text" value="Automobile" readonly>
                                        <span class="ontology-label">온톨로지 A</span>
                                    </div>
                                    
                                    <div class="semantic-bridge">
                                        <div class="bridge-visualization">
                                            <div class="semantic-path">
                                                <div class="path-node">Automobile</div>
                                                <div class="path-relation">hypernym</div>
                                                <div class="path-node">Motor Vehicle</div>
                                                <div class="path-relation">hyponym</div>
                                                <div class="path-node">Car</div>
                                            </div>
                                        </div>
                                        <div class="confidence-score">
                                            <span class="score-label">의미 유사도</span>
                                            <div class="score-circle">
                                                <svg width="80" height="80">
                                                    <circle cx="40" cy="40" r="30" stroke="#e5e7eb" stroke-width="6" fill="none"/>
                                                    <circle cx="40" cy="40" r="30" stroke="#10b981" stroke-width="6" fill="none"
                                                            stroke-dasharray="188" stroke-dashoffset="38" 
                                                            style="transform: rotate(-90deg); transform-origin: 40px 40px;"/>
                                                </svg>
                                                <div class="score-text">80%</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="concept-input">
                                        <input type="text" value="Car" readonly>
                                        <span class="ontology-label">온톨로지 B</span>
                                    </div>
                                </div>
                                
                                <div class="semantic-evidence">
                                    <h8>의미 매핑 근거</h8>
                                    <div class="evidence-list">
                                        <div class="evidence-item">
                                            <span class="evidence-source">WordNet:</span>
                                            <span class="evidence-text">automobile.n.01 → car.n.01 (동의어)</span>
                                            <span class="evidence-score">0.95</span>
                                        </div>
                                        
                                        <div class="evidence-item">
                                            <span class="evidence-source">DBpedia:</span>
                                            <span class="evidence-text">rdfs:sameAs 관계 발견</span>
                                            <span class="evidence-score">0.88</span>
                                        </div>
                                        
                                        <div class="evidence-item">
                                            <span class="evidence-source">ConceptNet:</span>
                                            <span class="evidence-text">IsA 관계를 통한 상하위 개념 확인</span>
                                            <span class="evidence-score">0.82</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 실전 매핑 챌린지 -->
<section class="content-section mapping-challenge">
    <h2>🏆 실전 매핑 마스터 챌린지</h2>
    
    <div class="challenge-arena">
        <h3>온톨로지 매핑 전문가 도전</h3>
        <div class="challenge-interface">
            <div class="challenge-status">
                <div class="status-card">
                    <div class="status-icon">🎯</div>
                    <div class="status-info">
                        <h5>현재 레벨</h5>
                        <div class="level-indicator">
                            <span class="level-name">매핑 견습생</span>
                            <div class="level-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 45%"></div>
                                </div>
                                <span class="progress-text">450/1000 XP</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="status-card">
                    <div class="status-icon">🏅</div>
                    <div class="status-info">
                        <h5>획득 뱃지</h5>
                        <div class="badge-collection">
                            <span class="challenge-badge earned">어휘 매칭</span>
                            <span class="challenge-badge earned">구조 분석</span>
                            <span class="challenge-badge locked">의미 추론</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="current-challenge">
                <div class="challenge-card expert">
                    <div class="challenge-header">
                        <h4>🔥 고급 챌린지: 의료-보험 온톨로지 통합</h4>
                        <div class="challenge-meta">
                            <span class="difficulty expert">전문가</span>
                            <span class="reward">+200 XP</span>
                            <span class="time-limit">제한시간: 15분</span>
                        </div>
                    </div>
                    
                    <div class="challenge-description">
                        <p>병원의 의료 온톨로지와 보험회사의 청구 온톨로지를 통합해야 합니다. 서로 다른 진단 코드 체계와 치료 분류를 매핑하세요.</p>
                    </div>
                    
                    <div class="challenge-workspace">
                        <div class="mapping-problem">
                            <div class="problem-side source">
                                <h6>🏥 병원 온톨로지</h6>
                                <div class="concept-list">
                                    <div class="concept-item" draggable="true">
                                        <span class="concept-name">급성심근경색</span>
                                        <span class="concept-code">I21.9</span>
                                    </div>
                                    <div class="concept-item" draggable="true">
                                        <span class="concept-name">관상동맥우회술</span>
                                        <span class="concept-code">O0210ZZ</span>
                                    </div>
                                    <div class="concept-item" draggable="true">
                                        <span class="concept-name">입원치료</span>
                                        <span class="concept-code">IP</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mapping-zone">
                                <h6>매핑 결과</h6>
                                <div class="mapping-canvas">
                                    <div class="drop-zone" id="mapping-area">
                                        <p>드래그하여 매핑 관계를 만드세요</p>
                                    </div>
                                </div>
                                
                                <div class="mapping-tools">
                                    <button class="tool-btn" onclick="addEquivalence()">
                                        <span class="tool-icon">≡</span>
                                        <span>동등 관계</span>
                                    </button>
                                    <button class="tool-btn" onclick="addSubsumption()">
                                        <span class="tool-icon">⊑</span>
                                        <span>포함 관계</span>
                                    </button>
                                    <button class="tool-btn" onclick="addRelated()">
                                        <span class="tool-icon">~</span>
                                        <span>관련 관계</span>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="problem-side target">
                                <h6>🏢 보험 온톨로지</h6>
                                <div class="concept-list">
                                    <div class="concept-item" draggable="true">
                                        <span class="concept-name">심장마비</span>
                                        <span class="concept-code">HRT001</span>
                                    </div>
                                    <div class="concept-item" draggable="true">
                                        <span class="concept-name">심장수술</span>
                                        <span class="concept-code">SUR202</span>
                                    </div>
                                    <div class="concept-item" draggable="true">
                                        <span class="concept-name">병원입원</span>
                                        <span class="concept-code">ADM001</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="challenge-actions">
                        <button class="action-btn hint" onclick="showHint()">
                            <span class="btn-icon">💡</span>
                            <span>힌트 보기</span>
                        </button>
                        
                        <button class="action-btn validate" onclick="validateMapping()">
                            <span class="btn-icon">✅</span>
                            <span>매핑 검증</span>
                        </button>
                        
                        <button class="action-btn submit primary" onclick="submitChallenge()">
                            <span class="btn-icon">🚀</span>
                            <span>도전 완료</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 파트 완료 체크포인트 -->
<div class="part-checkpoint">
    <h3>🏁 Part 2 완료 체크포인트</h3>
    <div class="checkpoint-progress">
        <div class="progress-indicators">
            <div class="indicator completed">
                <span class="indicator-icon">✅</span>
                <span class="indicator-text">이질성 유형 분석</span>
            </div>
            <div class="indicator completed">
                <span class="indicator-icon">✅</span>
                <span class="indicator-text">매핑 기법 학습</span>
            </div>
            <div class="indicator completed">
                <span class="indicator-icon">✅</span>
                <span class="indicator-text">실전 매핑 실습</span>
            </div>
            <div class="indicator pending">
                <span class="indicator-icon">🔄</span>
                <span class="indicator-text">통합 전략 수립</span>
            </div>
        </div>
        
        <div class="checkpoint-summary">
            <div class="mastery-dashboard">
                <div class="dashboard-card">
                    <div class="card-icon">🎯</div>
                    <div class="card-content">
                        <h5>매핑 기법 숙련도</h5>
                        <div class="skill-breakdown">
                            <div class="skill-item">
                                <span>어휘적 매핑</span>
                                <div class="skill-level expert">전문가</div>
                            </div>
                            <div class="skill-item">
                                <span>구조적 매핑</span>
                                <div class="skill-level advanced">고급</div>
                            </div>
                            <div class="skill-item">
                                <span>의미적 매핑</span>
                                <div class="skill-level intermediate">중급</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-card">
                    <div class="card-icon">📊</div>
                    <div class="card-content">
                        <h5>이질성 분석 능력</h5>
                        <div class="analysis-metrics">
                            <div class="metric-row">
                                <span>탐지 정확도</span>
                                <div class="metric-value">92%</div>
                            </div>
                            <div class="metric-row">
                                <span>해결 성공률</span>
                                <div class="metric-value">85%</div>
                            </div>
                            <div class="metric-row">
                                <span>처리 속도</span>
                                <div class="metric-value">빠름</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="next-part-preview">
                <h5>🔮 다음 단계 미리보기</h5>
                <div class="preview-content">
                    <p><strong>Part 3:</strong> 통합 방법론과 품질 평가</p>
                    <ul>
                        <li>매핑 품질 평가 지표</li>
                        <li>자동 매핑 도구 활용</li>
                        <li>대규모 온톨로지 통합 전략</li>
                        <li>통합 후 유지보수 방법</li>
                    </ul>
                </div>
                <button class="continue-btn" onclick="goToNextPart()">
                    <span>Part 3로 계속하기</span>
                    <span class="btn-arrow">→</span>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- JavaScript for Interactive Features -->
<script>
// 온톨로지 샘플 로더
function loadOntologySample(sampleType) {
    // 모든 샘플 버튼 비활성화
    document.querySelectorAll('.sample-btn').forEach(btn => btn.classList.remove('active'));
    document.querySelectorAll('.analysis-content').forEach(content => content.classList.remove('active'));
    
    // 선택된 샘플 활성화
    event.target.closest('.sample-btn').classList.add('active');
    document.getElementById(`${sampleType}-analysis`).classList.add('active');
}

// 매핑 기법 전환
function showMappingTechnique(technique) {
    // 모든 탭과 콘텐츠 비활성화
    document.querySelectorAll('.technique-tab').forEach(tab => tab.classList.remove('active'));
    document.querySelectorAll('.mapping-content').forEach(content => content.classList.remove('active'));
    
    // 선택된 기법 활성화
    event.target.closest('.technique-tab').classList.add('active');
    document.getElementById(`${technique}-mapping`).classList.add('active');
}

// 매핑 도구 함수들
function addEquivalence() {
    showMappingTool('equivalence', '≡');
}

function addSubsumption() {
    showMappingTool('subsumption', '⊑');
}

function addRelated() {
    showMappingTool('related', '~');
}

function showMappingTool(type, symbol) {
    // 매핑 도구 선택 효과
    document.querySelectorAll('.tool-btn').forEach(btn => btn.classList.remove('selected'));
    event.target.classList.add('selected');
    
    // 사용자에게 드래그 모드 알림
    const mappingArea = document.getElementById('mapping-area');
    mappingArea.innerHTML = `<p>드래그하여 ${symbol} 관계를 만드세요</p>`;
    mappingArea.dataset.currentTool = type;
}

// 힌트 표시
function showHint() {
    const hintModal = document.createElement('div');
    hintModal.className = 'hint-modal';
    hintModal.innerHTML = `
        <div class="hint-content">
            <h6>💡 매핑 힌트</h6>
            <ul>
                <li>급성심근경색과 심장마비는 같은 의미입니다</li>
                <li>ICD 코드와 보험 코드의 매핑 테이블을 참고하세요</li>
                <li>상위-하위 관계를 고려하여 매핑하세요</li>
            </ul>
            <button onclick="closeHint()">확인</button>
        </div>
    `;
    document.body.appendChild(hintModal);
}

function closeHint() {
    const hintModal = document.querySelector('.hint-modal');
    if (hintModal) {
        hintModal.remove();
    }
}

// 매핑 검증
function validateMapping() {
    // 매핑 검증 로직
    const validationResult = {
        score: 85,
        feedback: [
            '급성심근경색 ≡ 심장마비: 정확한 매핑입니다!',
            '입원치료 ≡ 병원입원: 좋은 매핑입니다.',
            '수술 매핑을 확인해주세요.'
        ]
    };
    
    showValidationResult(validationResult);
}

function showValidationResult(result) {
    const resultDiv = document.createElement('div');
    resultDiv.className = 'validation-result';
    resultDiv.innerHTML = `
        <div class="result-header">
            <h6>🔍 매핑 검증 결과</h6>
            <div class="score-display">${result.score}/100</div>
        </div>
        <div class="feedback-list">
            ${result.feedback.map(item => `<div class="feedback-item">${item}</div>`).join('')}
        </div>
        <button onclick="closeValidation()">확인</button>
    `;
    
    document.querySelector('.challenge-workspace').appendChild(resultDiv);
}

function closeValidation() {
    const validationResult = document.querySelector('.validation-result');
    if (validationResult) {
        validationResult.remove();
    }
}

// 챌린지 제출
function submitChallenge() {
    // 챌린지 완료 처리
    const completionModal = document.createElement('div');
    completionModal.className = 'completion-modal';
    completionModal.innerHTML = `
        <div class="completion-content">
            <div class="completion-icon">🎉</div>
            <h5>챌린지 완료!</h5>
            <div class="rewards">
                <div class="reward-item">
                    <span class="reward-icon">⭐</span>
                    <span>+200 XP 획득</span>
                </div>
                <div class="reward-item">
                    <span class="reward-icon">🏅</span>
                    <span>의료 매핑 전문가 뱃지 획득</span>
                </div>
            </div>
            <button onclick="closeCompletion()">계속하기</button>
        </div>
    `;
    document.body.appendChild(completionModal);
    
    // 레벨 업데이트
    updateUserLevel();
}

function closeCompletion() {
    const completionModal = document.querySelector('.completion-modal');
    if (completionModal) {
        completionModal.remove();
    }
}

function updateUserLevel() {
    // 레벨 및 XP 업데이트 로직
    const currentXP = 450 + 200; // 기존 XP + 보상 XP
    document.querySelector('.progress-text').textContent = `${currentXP}/1000 XP`;
    document.querySelector('.progress-fill').style.width = `${(currentXP / 1000) * 100}%`;
    
    if (currentXP >= 1000) {
        document.querySelector('.level-name').textContent = '매핑 전문가';
    }
}

// 다음 파트로 이동
function goToNextPart() {
    alert('Part 3: 통합 방법론과 품질 평가로 이동합니다!');
}

// 드래그 앤 드롭 이벤트 처리
document.addEventListener('DOMContentLoaded', function() {
    // 드래그 가능한 요소들에 이벤트 리스너 추가
    const draggableItems = document.querySelectorAll('.concept-item[draggable="true"]');
    const dropZone = document.getElementById('mapping-area');
    
    draggableItems.forEach(item => {
        item.addEventListener('dragstart', handleDragStart);
    });
    
    if (dropZone) {
        dropZone.addEventListener('dragover', handleDragOver);
        dropZone.addEventListener('drop', handleDrop);
    }
});

function handleDragStart(e) {
    e.dataTransfer.setData('text/plain', e.target.outerHTML);
    e.dataTransfer.effectAllowed = 'copy';
}

function handleDragOver(e) {
    e.preventDefault();
    e.dataTransfer.dropEffect = 'copy';
}

function handleDrop(e) {
    e.preventDefault();
    const data = e.dataTransfer.getData('text/plain');
    const dropZone = e.target.closest('#mapping-area');
    
    if (dropZone && data) {
        const mappingItem = document.createElement('div');
        mappingItem.className = 'mapping-pair';
        mappingItem.innerHTML = `
            <div class="mapped-concepts">
                ${data}
                <div class="mapping-relation">${dropZone.dataset.currentTool || '?'}</div>
            </div>
        `;
        dropZone.appendChild(mappingItem);
        dropZone.innerHTML = dropZone.innerHTML.replace('<p>드래그하여 매핑 관계를 만드세요</p>', '');
    }
}

// 프로그레스 애니메이션
setTimeout(() => {
    document.querySelectorAll('.gauge-fill, .score-bar, .progress-fill').forEach(bar => {
        const width = bar.style.width;
        bar.style.width = '0%';
        setTimeout(() => {
            bar.style.width = width;
        }, 100);
    });
}, 500);
</script>

<!-- Part 2 전용 스타일 -->
<style>
.part-header.heterogeneity-mastery {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    position: relative;
    overflow: hidden;
}

.heterogeneity-visualization {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 200"><defs><pattern id="heteroPattern" patternUnits="userSpaceOnUse" width="50" height="50"><rect width="25" height="25" fill="rgba(255,255,255,0.1)"/><rect x="25" y="25" width="25" height="25" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100%" height="100%" fill="url(%23heteroPattern)"/></svg>');
    animation: patternSlide 15s linear infinite;
}

@keyframes patternSlide {
    0% { transform: translateX(0); }
    100% { transform: translateX(50px); }
}

.progress-check.heterogeneity-expert {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    border-radius: 20px;
    padding: 30px;
    margin: 30px 0;
}

.expertise-radar {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 25px;
}

.expertise-domain {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    padding: 20px;
    backdrop-filter: blur(10px);
}

.domain-title {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
}

.domain-icon {
    font-size: 24px;
}

.domain-title h4 {
    color: white;
    margin: 0;
    font-size: 16px;
}

.expertise-metrics {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.metric-item {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 14px;
}

.metric-name {
    flex: 1;
    color: rgba(255, 255, 255, 0.9);
    min-width: 80px;
}

.metric-gauge {
    width: 80px;
    height: 6px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
    overflow: hidden;
}

.gauge-fill {
    height: 100%;
    background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
    border-radius: 3px;
    transition: width 1s ease-out;
}

.metric-value {
    color: white;
    font-weight: bold;
    min-width: 35px;
    text-align: right;
}

.expertise-summary {
    grid-column: 1 / -1;
    display: flex;
    justify-content: center;
    margin-top: 20px;
}

.summary-badge {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 20px;
    padding: 25px;
    display: flex;
    align-items: center;
    gap: 20px;
    backdrop-filter: blur(10px);
    max-width: 500px;
}

.badge-icon {
    font-size: 48px;
}

.badge-content h5 {
    color: white;
    margin: 0 0 8px 0;
    font-size: 20px;
}

.badge-content p {
    color: rgba(255, 255, 255, 0.8);
    margin: 0 0 15px 0;
    font-size: 14px;
}

.mastery-level {
    display: flex;
    align-items: center;
    gap: 15px;
}

.level-indicator {
    padding: 6px 12px;
    border-radius: 15px;
    font-size: 12px;
    font-weight: bold;
    color: white;
}

.level-indicator.expert {
    background: #8b5cf6;
}

.xp-points {
    color: #fbbf24;
    font-weight: bold;
    font-size: 14px;
}

.heterogeneity-detector {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 20px;
    padding: 30px;
    margin: 30px 0;
}

.detector-interface h3 {
    color: white;
    margin: 0 0 25px 0;
    text-align: center;
    font-size: 24px;
}

.sample-selector {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 30px;
}

.sample-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid transparent;
    border-radius: 15px;
    padding: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 15px;
}

.sample-btn:hover, .sample-btn.active {
    background: rgba(255, 255, 255, 0.2);
    border-color: #4facfe;
    transform: translateY(-3px);
}

.sample-icon {
    font-size: 32px;
    min-width: 40px;
}

.sample-info h5 {
    color: white;
    margin: 0 0 5px 0;
    font-size: 16px;
}

.sample-info p {
    color: rgba(255, 255, 255, 0.7);
    margin: 0;
    font-size: 14px;
}

.analysis-workspace {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    padding: 25px;
    backdrop-filter: blur(10px);
}

.analysis-content {
    display: none;
}

.analysis-content.active {
    display: block;
}

.ontology-comparison-detailed {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 25px;
    align-items: start;
    margin-bottom: 30px;
}

.ontology-side h5 {
    color: white;
    margin: 0 0 20px 0;
    text-align: center;
    font-size: 18px;
}

.ontology-structure {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
}

.structure-tree {
    margin-bottom: 20px;
}

.tree-node {
    background: #4facfe;
    color: white;
    padding: 8px 12px;
    border-radius: 8px;
    margin: 5px 0;
    font-size: 14px;
    text-align: center;
}

.tree-node.root {
    background: #667eea;
    font-weight: bold;
    font-size: 16px;
}

.tree-branch {
    margin-left: 15px;
    margin-top: 10px;
}

.tree-subbranch {
    margin-left: 20px;
    margin-top: 8px;
}

.ontology-properties h6 {
    color: white;
    margin: 0 0 10px 0;
    font-size: 14px;
}

.ontology-properties ul {
    color: rgba(255, 255, 255, 0.8);
    margin: 0;
    padding-left: 18px;
    font-size: 12px;
}

.heterogeneity-detector-center {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-width: 160px;
}

.detector-scanner {
    text-align: center;
}

.scanner-animation {
    width: 80px;
    height: 80px;
    border: 4px solid rgba(255, 255, 255, 0.3);
    border-top: 4px solid #4facfe;
    border-radius: 50%;
    animation: spin 2s linear infinite;
    margin: 0 auto 15px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.detector-scanner h6 {
    color: white;
    margin: 0 0 15px 0;
    font-size: 14px;
}

.progress-ring {
    position: relative;
    display: inline-block;
}

.progress-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.progress-value {
    display: block;
    color: white;
    font-size: 18px;
    font-weight: bold;
}

.progress-label {
    display: block;
    color: rgba(255, 255, 255, 0.7);
    font-size: 12px;
}

.heterogeneity-results {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 20px;
}

.heterogeneity-results h5 {
    color: white;
    margin: 0 0 20px 0;
    font-size: 18px;
    text-align: center;
}

.heterogeneity-types-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
}

.heterogeneity-type {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
    backdrop-filter: blur(5px);
}

.type-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
}

.type-icon {
    font-size: 24px;
}

.type-header h6 {
    flex: 1;
    color: white;
    margin: 0;
    font-size: 16px;
}

.severity {
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: bold;
    color: white;
}

.severity.high {
    background: #ef4444;
}

.severity.medium {
    background: #f59e0b;
}

.severity.low {
    background: #10b981;
}

.issue-list {
    margin-bottom: 15px;
}

.issue-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
    margin-bottom: 10px;
    font-size: 14px;
}

.issue-label {
    color: rgba(255, 255, 255, 0.9);
    font-weight: bold;
}

.issue-desc {
    color: rgba(255, 255, 255, 0.7);
    margin-left: 10px;
}

.resolution-hint {
    display: flex;
    align-items: center;
    gap: 8px;
    background: rgba(59, 130, 246, 0.2);
    border-radius: 8px;
    padding: 10px;
    font-size: 13px;
    color: rgba(255, 255, 255, 0.9);
}

.hint-icon {
    font-size: 16px;
}

.mapping-learning-center {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    border-radius: 20px;
    padding: 30px;
    margin: 30px 0;
}

.mapping-learning-center h3 {
    color: white;
    margin: 0 0 25px 0;
    text-align: center;
    font-size: 24px;
}

.technique-tabs {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 10px;
    margin-bottom: 30px;
}

.technique-tab {
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid transparent;
    border-radius: 12px;
    padding: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

.technique-tab:hover, .technique-tab.active {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.5);
    transform: translateY(-2px);
}

.tab-icon {
    font-size: 24px;
}

.tab-name {
    color: white;
    font-size: 14px;
    font-weight: 500;
}

.difficulty {
    padding: 3px 8px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: bold;
    color: white;
}

.difficulty.easy {
    background: #10b981;
}

.difficulty.medium {
    background: #f59e0b;
}

.difficulty.hard {
    background: #ef4444;
}

.mapping-workspace {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    padding: 25px;
    backdrop-filter: blur(10px);
}

.mapping-content {
    display: none;
}

.mapping-content.active {
    display: block;
}

.technique-overview {
    margin-bottom: 25px;
    text-align: center;
}

.technique-overview h5 {
    color: white;
    margin: 0 0 10px 0;
    font-size: 20px;
}

.technique-overview p {
    color: rgba(255, 255, 255, 0.8);
    margin: 0;
    font-size: 16px;
}

.mapping-demo {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 20px;
}

.mapping-demo h6 {
    color: white;
    margin: 0 0 20px 0;
    font-size: 18px;
    text-align: center;
}

.term-inputs {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-bottom: 25px;
}

.input-group label {
    display: block;
    color: white;
    font-size: 16px;
    font-weight: bold;
    margin-bottom: 10px;
}

.term-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.term-item {
    background: rgba(255, 255, 255, 0.1);
    color: white;
    padding: 10px 15px;
    border-radius: 8px;
    font-size: 14px;
    cursor: pointer;
    transition: background 0.3s ease;
}

.term-item:hover {
    background: rgba(255, 255, 255, 0.2);
}

.similarity-matrix {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.matrix-row {
    display: grid;
    grid-template-columns: 2fr 1fr auto;
    gap: 15px;
    align-items: center;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 12px 15px;
}

.term-pair {
    color: white;
    font-size: 14px;
    font-weight: 500;
}

.similarity-score {
    display: flex;
    align-items: center;
    gap: 8px;
}

.score-bar {
    width: 60px;
    height: 8px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    overflow: hidden;
}

.score-bar div {
    height: 100%;
    border-radius: 4px;
    transition: width 1s ease-out;
}

.similarity-score.high .score-bar div {
    background: #10b981;
}

.similarity-score.medium .score-bar div {
    background: #f59e0b;
}

.similarity-score.low .score-bar div {
    background: #ef4444;
}

.score-value {
    color: white;
    font-size: 12px;
    font-weight: bold;
    min-width: 30px;
}

.match-type {
    padding: 4px 8px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: bold;
    color: white;
}

.match-type.synonym {
    background: #8b5cf6;
}

.match-type.lexical {
    background: #06b6d4;
}

.match-type.semantic {
    background: #10b981;
}

.match-type.related {
    background: #f59e0b;
}

.match-type.contextual {
    background: #ef4444;
}

.technique-tips {
    margin-top: 20px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    padding: 15px;
}

.technique-tips h7 {
    color: white;
    font-size: 16px;
    font-weight: bold;
    display: block;
    margin-bottom: 10px;
}

.technique-tips ul {
    color: rgba(255, 255, 255, 0.8);
    margin: 0;
    padding-left: 20px;
}

.technique-tips li {
    margin-bottom: 8px;
    font-size: 14px;
}

.challenge-arena {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 20px;
    padding: 30px;
    margin: 30px 0;
}

.challenge-arena h3 {
    color: white;
    margin: 0 0 25px 0;
    text-align: center;
    font-size: 24px;
}

.challenge-status {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.status-card {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    padding: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    backdrop-filter: blur(10px);
}

.status-icon {
    font-size: 32px;
}

.status-info h5 {
    color: white;
    margin: 0 0 10px 0;
    font-size: 16px;
}

.level-indicator {
    margin-bottom: 8px;
}

.level-name {
    color: white;
    font-weight: bold;
    font-size: 14px;
}

.level-progress {
    display: flex;
    align-items: center;
    gap: 10px;
}

.progress-bar {
    width: 120px;
    height: 6px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
    border-radius: 3px;
    transition: width 1s ease-out;
}

.progress-text {
    color: rgba(255, 255, 255, 0.8);
    font-size: 12px;
}

.badge-collection {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.challenge-badge {
    padding: 4px 8px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: bold;
    color: white;
}

.challenge-badge.earned {
    background: #10b981;
}

.challenge-badge.locked {
    background: #6b7280;
}

.challenge-card {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    padding: 25px;
    backdrop-filter: blur(10px);
}

.challenge-header h4 {
    color: white;
    margin: 0 0 15px 0;
    font-size: 20px;
}

.challenge-meta {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.challenge-meta span {
    padding: 6px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: bold;
    color: white;
}

.difficulty.expert {
    background: #8b5cf6;
}

.reward {
    background: #f59e0b;
}

.time-limit {
    background: #ef4444;
}

.challenge-description p {
    color: rgba(255, 255, 255, 0.8);
    margin: 0 0 20px 0;
    font-size: 16px;
}

.mapping-problem {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 20px;
    margin-bottom: 25px;
}

.problem-side h6 {
    color: white;
    margin: 0 0 15px 0;
    font-size: 16px;
    text-align: center;
}

.concept-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.concept-item {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 12px;
    cursor: grab;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.concept-item:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
}

.concept-item:active {
    cursor: grabbing;
}

.concept-name {
    color: white;
    font-weight: bold;
    font-size: 14px;
}

.concept-code {
    color: rgba(255, 255, 255, 0.7);
    font-size: 12px;
    font-family: monospace;
}

.mapping-zone {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    min-width: 200px;
}

.mapping-zone h6 {
    color: white;
    margin: 0;
    font-size: 16px;
}

.mapping-canvas {
    width: 100%;
    min-height: 150px;
}

#mapping-area {
    width: 100%;
    height: 150px;
    border: 2px dashed rgba(255, 255, 255, 0.3);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: rgba(255, 255, 255, 0.6);
    font-size: 14px;
    text-align: center;
}

.mapping-tools {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.tool-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    padding: 8px 12px;
    color: white;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 6px;
}

.tool-btn:hover, .tool-btn.selected {
    background: rgba(255, 255, 255, 0.2);
    border-color: #4facfe;
}

.tool-icon {
    font-size: 14px;
}

.challenge-actions {
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap;
}

.action-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 25px;
    padding: 12px 20px;
    color: white;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}

.action-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
}

.action-btn.primary {
    background: #4facfe;
    border-color: #4facfe;
}

.action-btn.primary:hover {
    background: #667eea;
    border-color: #667eea;
}

.btn-icon {
    font-size: 16px;
}

/* 모달 스타일 */
.hint-modal, .completion-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

.hint-content, .completion-content {
    background: white;
    border-radius: 15px;
    padding: 25px;
    max-width: 400px;
    width: 90%;
}

.hint-content h6 {
    margin: 0 0 15px 0;
    font-size: 18px;
    color: #333;
}

.hint-content ul {
    margin: 0 0 20px 0;
    padding-left: 20px;
}

.hint-content li {
    margin-bottom: 8px;
    color: #666;
}

.hint-content button, .completion-content button {
    background: #4facfe;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 10px 20px;
    font-weight: bold;
    cursor: pointer;
    width: 100%;
}

.completion-content {
    text-align: center;
}

.completion-icon {
    font-size: 48px;
    margin-bottom: 15px;
}

.completion-content h5 {
    margin: 0 0 20px 0;
    font-size: 24px;
    color: #333;
}

.rewards {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 25px;
}

.reward-item {
    display: flex;
    align-items: center;
    gap: 10px;
    background: #f0f9ff;
    border-radius: 8px;
    padding: 10px;
}

.reward-icon {
    font-size: 20px;
}

.validation-result {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    padding: 20px;
    margin-top: 20px;
    backdrop-filter: blur(5px);
}

.result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.result-header h6 {
    color: white;
    margin: 0;
    font-size: 16px;
}

.score-display {
    background: #4facfe;
    color: white;
    padding: 8px 12px;
    border-radius: 8px;
    font-weight: bold;
}

.feedback-list {
    margin-bottom: 20px;
}

.feedback-item {
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: 8px;
    font-size: 14px;
    padding: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 6px;
}

.validation-result button {
    background: #10b981;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 10px 20px;
    font-weight: bold;
    cursor: pointer;
}

@media (max-width: 768px) {
    .ontology-comparison-detailed {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .heterogeneity-detector-center {
        order: 2;
        min-width: auto;
        margin: 20px 0;
    }
    
    .term-inputs {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .mapping-problem {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .mapping-zone {
        order: 2;
        min-width: auto;
    }
    
    .technique-tabs {
        grid-template-columns: 1fr 1fr;
    }
    
    .challenge-status {
        grid-template-columns: 1fr;
    }
    
    .challenge-actions {
        flex-direction: column;
        align-items: stretch;
    }
}
</style>