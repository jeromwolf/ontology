<!-- Chapter 7: SPARQL - RDF ì§ˆì˜ ì–¸ì–´ (ì¸í„°ë™í‹°ë¸Œ ë§ˆìŠ¤í„° ë²„ì „) Part 2 -->

<!-- Part 2 ì‹œì‘ -->
<div class="part-header intermediate">
    <h2 class="part-title">Part 2: ì¤‘ê¸‰ í…Œí¬ë‹‰ê³¼ ê³ ê¸‰ íŒ¨í„´</h2>
    <p class="part-description">ì´ì œ SPARQLì˜ ì§„ì •í•œ í˜ì„ ë°œíœ˜í•  ì‹œê°„ì…ë‹ˆë‹¤. ë³µì¡í•œ ê·¸ë˜í”„ íŒ¨í„´ê³¼ ê³ ê¸‰ ê¸°ë²•ì„ ë§ˆìŠ¤í„°í•˜ì„¸ìš”.</p>
</div>

<!-- ì§„ë„ ì²´í¬ -->
<div class="progress-check intermediate-level">
    <h3>ğŸ¯ ì¤‘ê¸‰ì ì¤€ë¹„ ìƒí™©</h3>
    <div class="skill-progress">
        <div class="skill-item completed">
            <span class="skill-name">SPARQL ê¸°ì´ˆ</span>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
        </div>
        <div class="skill-item current">
            <span class="skill-name">ê³ ê¸‰ íŒ¨í„´</span>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 25%"></div>
            </div>
        </div>
        <div class="skill-item pending">
            <span class="skill-name">ìµœì í™” ê¸°ë²•</span>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 0%"></div>
            </div>
        </div>
    </div>
</div>

<!-- ì„¹ì…˜ 7.4: SPARQL ê³ ê¸‰ íŒ¨í„´ ë§ˆìŠ¤í„°ë¦¬ -->
<section class="content-section advanced-patterns">
    <h2>7.4 ê³ ê¸‰ íŒ¨í„´ ë§¤ì¹­: SPARQLì˜ ìˆ¨ê²¨ì§„ í˜</h2>
    
    <!-- íŒ¨í„´ ë§¤ì¹­ ì‹¤í—˜ì‹¤ -->
    <div class="pattern-matching-lab">
        <h3>ğŸ§ª íŒ¨í„´ ë§¤ì¹­ ì‹¤í—˜ì‹¤</h3>
        
        <div class="lab-interface">
            <!-- ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ -->
            <div class="scenario-selector">
                <h4>ì‹¤í—˜ ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ</h4>
                <div class="scenario-options">
                    <button class="scenario-btn active" onclick="selectScenario('social')">
                        <span class="scenario-icon">ğŸ‘¥</span>
                        <span class="scenario-name">ì†Œì…œ ë„¤íŠ¸ì›Œí¬</span>
                    </button>
                    <button class="scenario-btn" onclick="selectScenario('ecommerce')">
                        <span class="scenario-icon">ğŸ›’</span>
                        <span class="scenario-name">ì „ììƒê±°ë˜</span>
                    </button>
                    <button class="scenario-btn" onclick="selectScenario('academic')">
                        <span class="scenario-icon">ğŸ“</span>
                        <span class="scenario-name">í•™ìˆ  ì—°êµ¬</span>
                    </button>
                </div>
            </div>
            
            <!-- OPTIONAL íŒ¨í„´ ì‹¤ìŠµ -->
            <div class="pattern-section">
                <h4>ğŸ”¸ OPTIONAL: ì„ íƒì  ì •ë³´ ìˆ˜ì§‘</h4>
                <div class="pattern-explanation">
                    <p>OPTIONALì€ "ìˆìœ¼ë©´ ê°€ì ¸ì˜¤ê³ , ì—†ì–´ë„ ê´œì°®ë‹¤"ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. SQLì˜ LEFT JOINê³¼ ìœ ì‚¬í•˜ì§€ë§Œ ë” ì§ê´€ì ì…ë‹ˆë‹¤.</p>
                </div>
                
                <div class="pattern-demo">
                    <div class="demo-scenario">
                        <h5>ğŸ“‹ ì‹œë‚˜ë¦¬ì˜¤: ì‚¬ìš©ì í”„ë¡œí•„ ì™„ì„±ë„ ì¡°ì‚¬</h5>
                        <p>"ëª¨ë“  ì‚¬ìš©ìì˜ ê¸°ë³¸ ì •ë³´ì™€ ì„ íƒì ìœ¼ë¡œ ì†Œì…œ ë¯¸ë””ì–´ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ì„¸ìš”"</p>
                    </div>
                    
                    <div class="code-comparison">
                        <div class="code-panel">
                            <h6>âŒ OPTIONAL ì—†ì´ (ë¬¸ì œ ë°œìƒ)</h6>
                            <pre class="code-editor"><code>SELECT ?name ?email ?twitter ?instagram
WHERE {
  ?person foaf:name ?name ;
          foaf:mbox ?email ;
          foaf:account ?twitterAccount ;
          foaf:account ?instaAccount .
  ?twitterAccount foaf:accountServiceHomepage &lt;https://twitter.com&gt; ;
                  foaf:accountName ?twitter .
  ?instaAccount foaf:accountServiceHomepage &lt;https://instagram.com&gt; ;
                foaf:accountName ?instagram .
}</code></pre>
                            <div class="result-preview">
                                <div class="result-count error">ê²°ê³¼: 0ê±´ (ëª¨ë“  ì†Œì…œ ë¯¸ë””ì–´ê°€ ìˆëŠ” ì‚¬ìš©ìë§Œ)</div>
                            </div>
                        </div>
                        
                        <div class="code-panel">
                            <h6>âœ… OPTIONALë¡œ í•´ê²°</h6>
                            <pre class="code-editor"><code>SELECT ?name ?email ?twitter ?instagram
WHERE {
  ?person foaf:name ?name ;
          foaf:mbox ?email .
          
  OPTIONAL {
    ?person foaf:account ?twitterAccount .
    ?twitterAccount foaf:accountServiceHomepage &lt;https://twitter.com&gt; ;
                    foaf:accountName ?twitter .
  }
  
  OPTIONAL {
    ?person foaf:account ?instaAccount .
    ?instaAccount foaf:accountServiceHomepage &lt;https://instagram.com&gt; ;
                  foaf:accountName ?instagram .
  }
}</code></pre>
                            <div class="result-preview">
                                <div class="result-count success">ê²°ê³¼: 1,247ê±´ (ëª¨ë“  ì‚¬ìš©ì í¬í•¨)</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ì¸í„°ë™í‹°ë¸Œ ê²°ê³¼ í…Œì´ë¸” -->
                    <div class="interactive-results">
                        <h6>ì‹¤í–‰ ê²°ê³¼ ì‹œë®¬ë ˆì´ì…˜</h6>
                        <div class="result-table-container">
                            <table class="result-table">
                                <thead>
                                    <tr>
                                        <th>?name</th>
                                        <th>?email</th>
                                        <th>?twitter</th>
                                        <th>?instagram</th>
                                        <th>ì™„ì„±ë„</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="complete-profile">
                                        <td>"ê¹€ê°œë°œ"</td>
                                        <td>"kim@dev.com"</td>
                                        <td>"@kimdev"</td>
                                        <td>"kimdev_official"</td>
                                        <td><span class="completeness-badge full">100%</span></td>
                                    </tr>
                                    <tr class="partial-profile">
                                        <td>"ì´ë””ìì¸"</td>
                                        <td>"lee@design.co"</td>
                                        <td>"@leeDesign"</td>
                                        <td>unbound</td>
                                        <td><span class="completeness-badge partial">75%</span></td>
                                    </tr>
                                    <tr class="minimal-profile">
                                        <td>"ë°•ë¶„ì„"</td>
                                        <td>"park@data.org"</td>
                                        <td>unbound</td>
                                        <td>unbound</td>
                                        <td><span class="completeness-badge minimal">50%</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- UNION íŒ¨í„´ ì‹¤ìŠµ -->
            <div class="pattern-section">
                <h4>ğŸ”€ UNION: ëŒ€ì•ˆ íŒ¨í„´ íƒìƒ‰</h4>
                <div class="pattern-explanation">
                    <p>UNIONì€ "ì´ê²ƒ ë˜ëŠ” ì €ê²ƒ"ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì—¬ëŸ¬ ê°€ëŠ¥ì„± ì¤‘ í•˜ë‚˜ë¼ë„ ë§Œì¡±í•˜ë©´ ê²°ê³¼ì— í¬í•¨ë©ë‹ˆë‹¤.</p>
                </div>
                
                <div class="pattern-demo">
                    <div class="demo-scenario">
                        <h5>ğŸ“‹ ì‹œë‚˜ë¦¬ì˜¤: ë‹¤ì¤‘ ì—°ë½ì²˜ ìˆ˜ì§‘</h5>
                        <p>"ì‚¬ìš©ìì˜ ì—°ë½ ë°©ë²•ì„ ì°¾ë˜, ì´ë©”ì¼, ì „í™”ë²ˆí˜¸, ì†Œì…œ ë¯¸ë””ì–´ ì¤‘ ì–´ëŠ ê²ƒì´ë¼ë„ ì¢‹ë‹¤"</p>
                    </div>
                    
                    <div class="union-visualizer">
                        <h6>UNION ë™ì‘ ì›ë¦¬ ì‹œê°í™”</h6>
                        <div class="union-diagram">
                            <div class="union-branch" data-branch="email">
                                <div class="branch-header">Branch 1: ì´ë©”ì¼</div>
                                <div class="branch-pattern">?person foaf:mbox ?contact</div>
                                <div class="branch-results">ğŸ“§ 3,421ëª…</div>
                            </div>
                            <div class="union-operator">UNION</div>
                            <div class="union-branch" data-branch="phone">
                                <div class="branch-header">Branch 2: ì „í™”ë²ˆí˜¸</div>
                                <div class="branch-pattern">?person foaf:phone ?contact</div>
                                <div class="branch-results">ğŸ“ 2,876ëª…</div>
                            </div>
                            <div class="union-operator">UNION</div>
                            <div class="union-branch" data-branch="social">
                                <div class="branch-header">Branch 3: ì†Œì…œ</div>
                                <div class="branch-pattern">?person foaf:account/foaf:accountName ?contact</div>
                                <div class="branch-results">ğŸ“± 1,945ëª…</div>
                            </div>
                            <div class="union-result">
                                <div class="result-arrow">â†˜ â†“ â†™</div>
                                <div class="final-result">ì´ ê²°ê³¼: 5,847ëª… (ì¤‘ë³µ ì œê±°ë¨)</div>
                            </div>
                        </div>
                        
                        <div class="union-code">
                            <pre class="code-editor"><code>SELECT DISTINCT ?name ?contact ?contactType
WHERE {
  ?person foaf:name ?name .
  
  { 
    ?person foaf:mbox ?contact .
    BIND("email" AS ?contactType)
  }
  UNION
  { 
    ?person foaf:phone ?contact .
    BIND("phone" AS ?contactType)
  }
  UNION
  { 
    ?person foaf:account ?account .
    ?account foaf:accountName ?contact .
    BIND("social" AS ?contactType)
  }
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- MINUS íŒ¨í„´ ì‹¤ìŠµ -->
            <div class="pattern-section">
                <h4>â– MINUS: ì œì™¸ íŒ¨í„´</h4>
                <div class="pattern-explanation">
                    <p>MINUSëŠ” "ì´ê±´ ë¹¼ê³ "ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê²°ê³¼ë¥¼ ì œì™¸í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
                </div>
                
                <div class="pattern-demo">
                    <div class="demo-scenario">
                        <h5>ğŸ“‹ ì‹œë‚˜ë¦¬ì˜¤: í™œì„± ì‚¬ìš©ìë§Œ ì¡°íšŒ</h5>
                        <p>"ëª¨ë“  ì‚¬ìš©ì ì¤‘ì—ì„œ ë¹„í™œì„±í™”ë˜ê±°ë‚˜ íƒˆí‡´í•œ ì‚¬ìš©ìëŠ” ì œì™¸í•˜ê³  ì¡°íšŒí•˜ì„¸ìš”"</p>
                    </div>
                    
                    <div class="minus-flowchart">
                        <div class="flow-step">
                            <div class="step-icon">ğŸ‘¥</div>
                            <div class="step-name">ì „ì²´ ì‚¬ìš©ì</div>
                            <div class="step-count">10,000ëª…</div>
                        </div>
                        <div class="flow-arrow">â†’</div>
                        <div class="flow-step exclude">
                            <div class="step-icon">ğŸš«</div>
                            <div class="step-name">ì œì™¸í•  ì‚¬ìš©ì</div>
                            <div class="step-details">
                                <div>ë¹„í™œì„±: 1,200ëª…</div>
                                <div>íƒˆí‡´: 800ëª…</div>
                                <div>ì •ì§€: 150ëª…</div>
                            </div>
                        </div>
                        <div class="flow-arrow">â†’</div>
                        <div class="flow-step result">
                            <div class="step-icon">âœ…</div>
                            <div class="step-name">ìµœì¢… ê²°ê³¼</div>
                            <div class="step-count">7,850ëª…</div>
                        </div>
                    </div>
                    
                    <div class="minus-code">
                        <pre class="code-editor"><code>SELECT ?name ?email ?lastActive
WHERE {
  # ê¸°ë³¸ ì‚¬ìš©ì ì •ë³´
  ?person a foaf:Person ;
          foaf:name ?name ;
          foaf:mbox ?email ;
          ex:lastActiveDate ?lastActive .
  
  # ì œì™¸í•  ì‚¬ìš©ìë“¤
  MINUS {
    { ?person ex:status "inactive" }
    UNION
    { ?person ex:status "deleted" }
    UNION  
    { ?person ex:status "suspended" }
  }
}</code></pre>
                    </div>
                    
                    <!-- MINUS vs FILTER ë¹„êµ -->
                    <div class="comparison-box">
                        <h6>ğŸ¤” MINUS vs FILTER ì–¸ì œ ì‚¬ìš©í• ê¹Œ?</h6>
                        <div class="comparison-grid">
                            <div class="comparison-item">
                                <h7>MINUS ì‚¬ìš© ì‹œ</h7>
                                <ul>
                                    <li>ë³µì¡í•œ ì„œë¸Œê·¸ë˜í”„ ì œì™¸</li>
                                    <li>ë‹¤ì¤‘ ì¡°ê±´ ì œì™¸</li>
                                    <li>ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ê²½ìš°</li>
                                </ul>
                            </div>
                            <div class="comparison-item">
                                <h7>FILTER ì‚¬ìš© ì‹œ</h7>
                                <ul>
                                    <li>ë‹¨ìˆœí•œ ê°’ ë¹„êµ</li>
                                    <li>ìˆ˜ì‹ ê³„ì‚° ê²°ê³¼</li>
                                    <li>ì •ê·œì‹ ë§¤ì¹­</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ì„¹ì…˜ 7.5: FILTERì™€ í•¨ìˆ˜ ë§ˆìŠ¤í„° -->
<section class="content-section filter-functions">
    <h2>7.5 FILTERì™€ í•¨ìˆ˜: ë°ì´í„° ì •ì œì˜ ë§ˆë²•</h2>
    
    <!-- FILTER ì¢…í•© ì‹¤ìŠµì¥ -->
    <div class="filter-training-ground">
        <h3>ğŸ¯ FILTER í›ˆë ¨ì¥</h3>
        
        <div class="training-interface">
            <!-- í•¨ìˆ˜ ì¹´í…Œê³ ë¦¬ -->
            <div class="function-categories">
                <h4>í•¨ìˆ˜ ì¹´í…Œê³ ë¦¬</h4>
                <div class="category-tabs">
                    <button class="category-tab active" onclick="showCategory('string')">
                        <span class="tab-icon">ğŸ“</span>
                        <span>ë¬¸ìì—´</span>
                    </button>
                    <button class="category-tab" onclick="showCategory('numeric')">
                        <span class="tab-icon">ğŸ”¢</span>
                        <span>ìˆ«ì</span>
                    </button>
                    <button class="category-tab" onclick="showCategory('datetime')">
                        <span class="tab-icon">ğŸ“…</span>
                        <span>ë‚ ì§œ/ì‹œê°„</span>
                    </button>
                    <button class="category-tab" onclick="showCategory('logic')">
                        <span class="tab-icon">ğŸ”„</span>
                        <span>ë…¼ë¦¬</span>
                    </button>
                    <button class="category-tab" onclick="showCategory('regex')">
                        <span class="tab-icon">ğŸ­</span>
                        <span>ì •ê·œì‹</span>
                    </button>
                </div>
            </div>
            
            <!-- ë¬¸ìì—´ í•¨ìˆ˜ë“¤ -->
            <div class="function-panel" id="string-functions">
                <h5>ğŸ“ ë¬¸ìì—´ í•¨ìˆ˜ ë§ˆìŠ¤í„°</h5>
                
                <div class="function-playground">
                    <div class="function-item">
                        <h6>STR() - ë¦¬í„°ëŸ´ ì¶”ì¶œ</h6>
                        <div class="function-demo">
                            <div class="demo-input">
                                <span class="input-label">ì…ë ¥:</span>
                                <code>"ê¹€ì² ìˆ˜"@ko</code>
                            </div>
                            <div class="demo-process">
                                <code>STR(?name)</code>
                            </div>
                            <div class="demo-output">
                                <span class="output-label">ì¶œë ¥:</span>
                                <code>"ê¹€ì² ìˆ˜"</code>
                            </div>
                        </div>
                        <div class="practical-example">
                            <pre class="code-editor"><code># ì–¸ì–´ íƒœê·¸ ì œê±°í•˜ê³  ì´ë¦„ë§Œ ì¶”ì¶œ
SELECT (STR(?name) AS ?cleanName)
WHERE {
  ?person foaf:name ?name .
  FILTER(LANG(?name) = "ko")
}</code></pre>
                        </div>
                    </div>
                    
                    <div class="function-item">
                        <h6>STRLEN() - ë¬¸ìì—´ ê¸¸ì´</h6>
                        <div class="function-demo">
                            <div class="demo-input">
                                <span class="input-label">ì…ë ¥:</span>
                                <code>"Hello World"</code>
                            </div>
                            <div class="demo-process">
                                <code>STRLEN(?text)</code>
                            </div>
                            <div class="demo-output">
                                <span class="output-label">ì¶œë ¥:</span>
                                <code>11</code>
                            </div>
                        </div>
                        <div class="practical-example">
                            <pre class="code-editor"><code># ì§§ì€ ì´ë¦„(5ê¸€ì ì´í•˜)ì„ ê°€ì§„ ì‚¬ìš©ì ì°¾ê¸°
SELECT ?name
WHERE {
  ?person foaf:name ?name .
  FILTER(STRLEN(STR(?name)) <= 5)
}</code></pre>
                        </div>
                    </div>
                    
                    <div class="function-item advanced">
                        <h6>CONCAT() - ë¬¸ìì—´ ê²°í•©</h6>
                        <div class="function-demo multi-input">
                            <div class="demo-inputs">
                                <div class="demo-input">
                                    <span class="input-label">firstName:</span>
                                    <code>"ê¹€"</code>
                                </div>
                                <div class="demo-input">
                                    <span class="input-label">lastName:</span>
                                    <code>"ì² ìˆ˜"</code>
                                </div>
                            </div>
                            <div class="demo-process">
                                <code>CONCAT(?firstName, " ", ?lastName)</code>
                            </div>
                            <div class="demo-output">
                                <span class="output-label">ì¶œë ¥:</span>
                                <code>"ê¹€ ì² ìˆ˜"</code>
                            </div>
                        </div>
                        <div class="practical-example">
                            <pre class="code-editor"><code># í’€ë„¤ì„ ìƒì„±í•˜ê³  ì´ë©”ì¼ ë„ë©”ì¸ ì¶”ê°€
SELECT (CONCAT(?firstName, " ", ?lastName, " <", ?email, ">") AS ?fullContact)
WHERE {
  ?person foaf:givenName ?firstName ;
          foaf:familyName ?lastName ;
          foaf:mbox ?email .
}</code></pre>
                        </div>
                    </div>
                </div>
                
                <!-- ì‹¤ì‹œê°„ í•¨ìˆ˜ í…ŒìŠ¤í„° -->
                <div class="function-tester">
                    <h6>ğŸ§ª ì‹¤ì‹œê°„ í•¨ìˆ˜ í…ŒìŠ¤í„°</h6>
                    <div class="tester-interface">
                        <div class="tester-input">
                            <label>í…ŒìŠ¤íŠ¸í•  ê°’:</label>
                            <input type="text" id="testValue" placeholder='"Hello SPARQL World"' value='"Hello SPARQL World"'>
                        </div>
                        <div class="tester-functions">
                            <button onclick="testFunction('STR')">STR()</button>
                            <button onclick="testFunction('STRLEN')">STRLEN()</button>
                            <button onclick="testFunction('UCASE')">UCASE()</button>
                            <button onclick="testFunction('LCASE')">LCASE()</button>
                        </div>
                        <div class="tester-output" id="functionResult">
                            ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ì •ê·œì‹ í•¨ìˆ˜ë“¤ -->
            <div class="function-panel" id="regex-functions" style="display: none;">
                <h5>ğŸ­ ì •ê·œì‹ ë§ˆìŠ¤í„°</h5>
                
                <div class="regex-workshop">
                    <div class="regex-intro">
                        <h6>ì •ê·œì‹ì˜ í˜</h6>
                        <p>REGEX() í•¨ìˆ˜ëŠ” SPARQLì—ì„œ ê°€ì¥ ê°•ë ¥í•œ íŒ¨í„´ ë§¤ì¹­ ë„êµ¬ì…ë‹ˆë‹¤. ë³µì¡í•œ ë¬¸ìì—´ íŒ¨í„´ì„ ì°¾ì„ ìˆ˜ ìˆì–´ìš”.</p>
                    </div>
                    
                    <div class="regex-patterns">
                        <div class="pattern-category">
                            <h6>ğŸ” ê¸°ë³¸ íŒ¨í„´</h6>
                            <div class="pattern-examples">
                                <div class="pattern-example">
                                    <div class="pattern-code">
                                        <code>FILTER(REGEX(?email, "@gmail\\.com$"))</code>
                                    </div>
                                    <div class="pattern-desc">Gmail ì£¼ì†Œë§Œ ì°¾ê¸°</div>
                                    <div class="pattern-test">
                                        <span class="test-input">user@gmail.com</span>
                                        <span class="test-result match">âœ… ë§¤ì¹˜</span>
                                    </div>
                                </div>
                                
                                <div class="pattern-example">
                                    <div class="pattern-code">
                                        <code>FILTER(REGEX(?phone, "^010-\\d{4}-\\d{4}$"))</code>
                                    </div>
                                    <div class="pattern-desc">í•œêµ­ íœ´ëŒ€í° ë²ˆí˜¸ í˜•ì‹</div>
                                    <div class="pattern-test">
                                        <span class="test-input">010-1234-5678</span>
                                        <span class="test-result match">âœ… ë§¤ì¹˜</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="pattern-category">
                            <h6>ğŸŒ ê³ ê¸‰ íŒ¨í„´</h6>
                            <div class="pattern-examples">
                                <div class="pattern-example advanced">
                                    <div class="pattern-code">
                                        <code>FILTER(REGEX(?name, "^[ê¹€ì´ë°•][ê°€-í£]{1,3}$"))</code>
                                    </div>
                                    <div class="pattern-desc">ê¹€/ì´/ë°•ì”¨ í•œêµ­ ì´ë¦„</div>
                                    <div class="pattern-results">
                                        <div class="pattern-test">
                                            <span class="test-input">ê¹€ì² ìˆ˜</span>
                                            <span class="test-result match">âœ…</span>
                                        </div>
                                        <div class="pattern-test">
                                            <span class="test-input">John</span>
                                            <span class="test-result no-match">âŒ</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="pattern-example advanced">
                                    <div class="pattern-code">
                                        <code>FILTER(REGEX(?skill, "(AI|Machine Learning|Deep Learning)", "i"))</code>
                                    </div>
                                    <div class="pattern-desc">AI ê´€ë ¨ ê¸°ìˆ  (ëŒ€ì†Œë¬¸ì ë¬´ì‹œ)</div>
                                    <div class="pattern-results">
                                        <div class="pattern-test">
                                            <span class="test-input">machine learning</span>
                                            <span class="test-result match">âœ…</span>
                                        </div>
                                        <div class="pattern-test">
                                            <span class="test-input">DEEP LEARNING</span>
                                            <span class="test-result match">âœ…</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ì •ê·œì‹ ë¹Œë” -->
                    <div class="regex-builder">
                        <h6>ğŸ—ï¸ ì •ê·œì‹ ë¹Œë”</h6>
                        <div class="builder-interface">
                            <div class="builder-controls">
                                <div class="control-group">
                                    <label>íŒ¨í„´ ìœ í˜•:</label>
                                    <select id="regexType" onchange="updateRegexPattern()">
                                        <option value="email">ì´ë©”ì¼</option>
                                        <option value="phone">ì „í™”ë²ˆí˜¸</option>
                                        <option value="korean">í•œêµ­ì–´ ì´ë¦„</option>
                                        <option value="url">URL</option>
                                        <option value="custom">ì»¤ìŠ¤í…€</option>
                                    </select>
                                </div>
                                <div class="control-group">
                                    <label>í”Œë˜ê·¸:</label>
                                    <label><input type="checkbox" id="caseInsensitive"> ëŒ€ì†Œë¬¸ì ë¬´ì‹œ (i)</label>
                                </div>
                            </div>
                            <div class="builder-output">
                                <div class="regex-preview">
                                    <span class="preview-label">ìƒì„±ëœ ì •ê·œì‹:</span>
                                    <code id="generatedRegex">@[a-zA-Z0-9._-]+\.[a-zA-Z]{2,}</code>
                                </div>
                                <div class="sparql-preview">
                                    <span class="preview-label">SPARQL ì½”ë“œ:</span>
                                    <pre id="generatedSPARQL"><code>FILTER(REGEX(?email, "@[a-zA-Z0-9._-]+\\.[a-zA-Z]{2,}"))</code></pre>
                                </div>
                            </div>
                            <div class="test-area">
                                <input type="text" id="regexTestInput" placeholder="í…ŒìŠ¤íŠ¸í•  ë¬¸ìì—´ ì…ë ¥">
                                <button onclick="testRegex()">í…ŒìŠ¤íŠ¸</button>
                                <div id="regexTestResult"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ë‚ ì§œ/ì‹œê°„ í•¨ìˆ˜ë“¤ -->
            <div class="function-panel" id="datetime-functions" style="display: none;">
                <h5>ğŸ“… ë‚ ì§œ/ì‹œê°„ ë§ˆìŠ¤í„°</h5>
                
                <div class="datetime-workshop">
                    <div class="datetime-scenarios">
                        <div class="scenario-card">
                            <h6>ğŸ“Š ì‹œë‚˜ë¦¬ì˜¤: í™œë™ì„± ë¶„ì„</h6>
                            <p>"ìµœê·¼ 30ì¼ ì´ë‚´ì— ë¡œê·¸ì¸í•œ í™œì„± ì‚¬ìš©ìë¥¼ ì°¾ì•„ë³´ì„¸ìš”"</p>
                            
                            <div class="datetime-solution">
                                <pre class="code-editor"><code>SELECT ?user ?name ?lastLogin
WHERE {
  ?user foaf:name ?name ;
        ex:lastLoginDate ?lastLogin .
  
  # í˜„ì¬ ì‹œê°ì—ì„œ 30ì¼ ì´ì „ ê³„ì‚°
  BIND(NOW() - "P30D"^^xsd:duration AS ?cutoffDate)
  
  # ë§ˆì§€ë§‰ ë¡œê·¸ì¸ì´ 30ì¼ ì´ë‚´ì¸ ì‚¬ìš©ìë§Œ
  FILTER(?lastLogin >= ?cutoffDate)
}
ORDER BY DESC(?lastLogin)</code></pre>
                            </div>
                            
                            <div class="function-breakdown">
                                <h7>ì‚¬ìš©ëœ í•¨ìˆ˜ ë¶„ì„:</h7>
                                <div class="function-list">
                                    <div class="function-detail">
                                        <span class="func-name">NOW()</span>
                                        <span class="func-desc">í˜„ì¬ ì‹œê° ë°˜í™˜</span>
                                    </div>
                                    <div class="function-detail">
                                        <span class="func-name">xsd:duration</span>
                                        <span class="func-desc">ê¸°ê°„ í‘œí˜„ (P30D = 30ì¼)</span>
                                    </div>
                                    <div class="function-detail">
                                        <span class="func-name">>=</span>
                                        <span class="func-desc">ë‚ ì§œ ë¹„êµ ì—°ì‚°</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="scenario-card">
                            <h6>ğŸ“ˆ ì‹œë‚˜ë¦¬ì˜¤: ì‹œê°„ëŒ€ë³„ ë¶„ì„</h6>
                            <p>"ì´ë²¤íŠ¸ë¥¼ ì‹œê°„ëŒ€ë³„ë¡œ ê·¸ë£¹í™”í•˜ì—¬ íŒ¨í„´ì„ ì°¾ì•„ë³´ì„¸ìš”"</p>
                            
                            <div class="datetime-solution">
                                <pre class="code-editor"><code>SELECT ?hourGroup (COUNT(?event) AS ?eventCount)
WHERE {
  ?event ex:timestamp ?timestamp .
  
  # ì‹œê°„ëŒ€ ì¶”ì¶œ (0-23ì‹œ)
  BIND(HOURS(?timestamp) AS ?hour)
  
  # ì‹œê°„ëŒ€ ê·¸ë£¹í™” (ìƒˆë²½/ì˜¤ì „/ì˜¤í›„/ë°¤)
  BIND(
    IF(?hour >= 0 && ?hour < 6, "ìƒˆë²½",
    IF(?hour >= 6 && ?hour < 12, "ì˜¤ì „", 
    IF(?hour >= 12 && ?hour < 18, "ì˜¤í›„", "ë°¤")))
    AS ?hourGroup
  )
}
GROUP BY ?hourGroup
ORDER BY ?hourGroup</code></pre>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ë‚ ì§œ í•¨ìˆ˜ ì°¸ì¡°í‘œ -->
                    <div class="datetime-reference">
                        <h6>ğŸ“š ë‚ ì§œ/ì‹œê°„ í•¨ìˆ˜ ì°¸ì¡°í‘œ</h6>
                        <div class="reference-grid">
                            <div class="ref-category">
                                <h7>ì¶”ì¶œ í•¨ìˆ˜</h7>
                                <div class="ref-items">
                                    <div class="ref-item">
                                        <code>YEAR(?date)</code>
                                        <span>ì—°ë„ (2024)</span>
                                    </div>
                                    <div class="ref-item">
                                        <code>MONTH(?date)</code>
                                        <span>ì›” (1-12)</span>
                                    </div>
                                    <div class="ref-item">
                                        <code>DAY(?date)</code>
                                        <span>ì¼ (1-31)</span>
                                    </div>
                                    <div class="ref-item">
                                        <code>HOURS(?datetime)</code>
                                        <span>ì‹œ (0-23)</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="ref-category">
                                <h7>ìƒì„± í•¨ìˆ˜</h7>
                                <div class="ref-items">
                                    <div class="ref-item">
                                        <code>NOW()</code>
                                        <span>í˜„ì¬ ì‹œê°</span>
                                    </div>
                                    <div class="ref-item">
                                        <code>STRDT()</code>
                                        <span>ë¬¸ìì—´ì„ ë‚ ì§œë¡œ</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ì„¹ì…˜ 7.6: Property Pathì˜ ë§ˆë²• -->
<section class="content-section property-path">
    <h2>7.6 Property Path: ê·¸ë˜í”„ íƒí—˜ì˜ ìƒˆë¡œìš´ ì°¨ì›</h2>
    
    <!-- Property Path ì‹œê°í™” ì‹¤ìŠµ -->
    <div class="path-exploration-lab">
        <h3>ğŸ—ºï¸ ê·¸ë˜í”„ íƒí—˜ ì‹¤ìŠµì‹¤</h3>
        
        <div class="path-visualizer">
            <h4>ê²½ë¡œ ì‹œê°í™” ë„êµ¬</h4>
            
            <!-- ê·¸ë˜í”„ ì‹œê°í™” ì˜ì—­ -->
            <div class="graph-canvas">
                <svg viewBox="0 0 800 500" class="path-graph">
                    <!-- ë…¸ë“œë“¤ -->
                    <circle cx="100" cy="250" r="30" class="node person" data-id="alice" />
                    <text x="100" y="255" text-anchor="middle" class="node-label">Alice</text>
                    
                    <circle cx="300" cy="150" r="30" class="node person" data-id="bob" />
                    <text x="300" y="155" text-anchor="middle" class="node-label">Bob</text>
                    
                    <circle cx="300" cy="350" r="30" class="node person" data-id="charlie" />
                    <text x="300" y="355" text-anchor="middle" class="node-label">Charlie</text>
                    
                    <circle cx="500" cy="100" r="30" class="node person" data-id="david" />
                    <text x="500" y="105" text-anchor="middle" class="node-label">David</text>
                    
                    <circle cx="500" cy="200" r="30" class="node person" data-id="eve" />
                    <text x="500" y="205" text-anchor="middle" class="node-label">Eve</text>
                    
                    <circle cx="500" cy="300" r="30" class="node person" data-id="frank" />
                    <text x="500" y="305" text-anchor="middle" class="node-label">Frank</text>
                    
                    <circle cx="700" cy="250" r="30" class="node person" data-id="grace" />
                    <text x="700" y="255" text-anchor="middle" class="node-label">Grace</text>
                    
                    <!-- ê´€ê³„ë“¤ -->
                    <line x1="130" y1="250" x2="270" y2="150" class="edge knows" data-path="alice-bob" />
                    <text x="200" y="195" class="edge-label">knows</text>
                    
                    <line x1="130" y1="250" x2="270" y2="350" class="edge knows" data-path="alice-charlie" />
                    <text x="200" y="305" class="edge-label">knows</text>
                    
                    <line x1="330" y1="150" x2="470" y2="100" class="edge knows" data-path="bob-david" />
                    <text x="400" y="120" class="edge-label">knows</text>
                    
                    <line x1="330" y1="150" x2="470" y2="200" class="edge knows" data-path="bob-eve" />
                    <text x="400" y="170" class="edge-label">knows</text>
                    
                    <line x1="330" y1="350" x2="470" y2="300" class="edge knows" data-path="charlie-frank" />
                    <text x="400" y="320" class="edge-label">knows</text>
                    
                    <line x1="530" y1="200" x2="670" y2="250" class="edge knows" data-path="eve-grace" />
                    <text x="600" y="220" class="edge-label">knows</text>
                    
                    <line x1="530" y1="300" x2="670" y2="250" class="edge knows" data-path="frank-grace" />
                    <text x="600" y="280" class="edge-label">knows</text>
                </svg>
            </div>
            
            <!-- Property Path ì»¨íŠ¸ë¡¤ -->
            <div class="path-controls">
                <h5>ê²½ë¡œ íŒ¨í„´ ì„ íƒ</h5>
                <div class="path-buttons">
                    <button class="path-btn" onclick="highlightPath('single')" data-pattern="foaf:knows">
                        <span class="pattern-code">foaf:knows</span>
                        <span class="pattern-desc">ì§ì ‘ ì¹œêµ¬</span>
                    </button>
                    <button class="path-btn" onclick="highlightPath('double')" data-pattern="foaf:knows/foaf:knows">
                        <span class="pattern-code">foaf:knows/foaf:knows</span>
                        <span class="pattern-desc">ì¹œêµ¬ì˜ ì¹œêµ¬</span>
                    </button>
                    <button class="path-btn" onclick="highlightPath('optional')" data-pattern="foaf:knows?">
                        <span class="pattern-code">foaf:knows?</span>
                        <span class="pattern-desc">0ê°œ ë˜ëŠ” 1ê°œ</span>
                    </button>
                    <button class="path-btn" onclick="highlightPath('one-plus')" data-pattern="foaf:knows+">
                        <span class="pattern-code">foaf:knows+</span>
                        <span class="pattern-desc">1ê°œ ì´ìƒ</span>
                    </button>
                    <button class="path-btn" onclick="highlightPath('zero-plus')" data-pattern="foaf:knows*">
                        <span class="pattern-code">foaf:knows*</span>
                        <span class="pattern-desc">0ê°œ ì´ìƒ</span>
                    </button>
                </div>
                
                <div class="path-result" id="pathResult">
                    ê²½ë¡œ íŒ¨í„´ì„ ì„ íƒí•˜ë©´ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
                </div>
            </div>
        </div>
        
        <!-- Property Path ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤ -->
        <div class="path-scenarios">
            <h4>ğŸ¯ ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤</h4>
            
            <div class="scenario-tabs">
                <button class="scenario-tab active" onclick="showScenario('social')">ì†Œì…œ ë„¤íŠ¸ì›Œí¬</button>
                <button class="scenario-tab" onclick="showScenario('org')">ì¡°ì§ë„</button>
                <button class="scenario-tab" onclick="showScenario('semantic')">ì˜ë¯¸ ê´€ê³„</button>
            </div>
            
            <div class="scenario-content" id="social-scenario">
                <h5>ğŸ‘¥ ì†Œì…œ ë„¤íŠ¸ì›Œí¬ ë¶„ì„</h5>
                
                <div class="scenario-challenges">
                    <div class="challenge-card">
                        <h6>Challenge 1: ì¸í”Œë£¨ì–¸ì„œ ì°¾ê¸°</h6>
                        <p>"3ë‹¨ê³„ ì´ë‚´ì— ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ì‚¬ëŒì´ 1000ëª… ì´ìƒì¸ ì¸í”Œë£¨ì–¸ì„œë¥¼ ì°¾ì•„ë¼"</p>
                        
                        <div class="challenge-solution">
                            <pre class="code-editor"><code>SELECT ?influencer (COUNT(DISTINCT ?reachable) AS ?reach)
WHERE {
  ?influencer foaf:knows{1,3} ?reachable .
  ?influencer a foaf:Person .
  ?reachable a foaf:Person .
}
GROUP BY ?influencer
HAVING (COUNT(DISTINCT ?reachable) >= 1000)
ORDER BY DESC(?reach)</code></pre>
                        </div>
                        
                        <div class="challenge-explanation">
                            <span class="explain-point">ğŸ’¡ <code>foaf:knows{1,3}</code>: ì •í™•íˆ 1~3ë‹¨ê³„ì˜ knows ê´€ê³„</span>
                        </div>
                    </div>
                    
                    <div class="challenge-card">
                        <h6>Challenge 2: ê³µí†µ ì¹œêµ¬ ì°¾ê¸°</h6>
                        <p>"Aliceì™€ Bobì´ ê³µí†µìœ¼ë¡œ ì•„ëŠ” ì‚¬ëŒë“¤ì„ ëª¨ë‘ ì°¾ì•„ë¼"</p>
                        
                        <div class="challenge-solution">
                            <pre class="code-editor"><code>SELECT DISTINCT ?commonFriend ?name
WHERE {
  ex:Alice foaf:knows+ ?commonFriend .
  ex:Bob foaf:knows+ ?commonFriend .
  ?commonFriend foaf:name ?name .
  
  # Aliceì™€ Bob ìì‹ ì€ ì œì™¸
  FILTER(?commonFriend != ex:Alice && ?commonFriend != ex:Bob)
}</code></pre>
                        </div>
                        
                        <div class="challenge-explanation">
                            <span class="explain-point">ğŸ’¡ <code>foaf:knows+</code>: 1ë‹¨ê³„ ì´ìƒì˜ ëª¨ë“  ì—°ê²°</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="scenario-content" id="org-scenario" style="display: none;">
                <h5>ğŸ¢ ì¡°ì§ë„ ë¶„ì„</h5>
                
                <div class="scenario-challenges">
                    <div class="challenge-card">
                        <h6>Challenge 1: ëª¨ë“  ë¶€í•˜ì§ì› ì°¾ê¸°</h6>
                        <p>"CEO ë°‘ì˜ ëª¨ë“  ì§ì†/ê°„ì ‘ ë¶€í•˜ì§ì›ì„ ê³„ì¸µë³„ë¡œ ì°¾ì•„ë¼"</p>
                        
                        <div class="challenge-solution">
                            <pre class="code-editor"><code>SELECT ?employee ?level
WHERE {
  ex:CEO org:hasDirectReport* ?employee .
  ?employee foaf:name ?name .
  
  # ê³„ì¸µ ë ˆë²¨ ê³„ì‚°
  {
    SELECT ?employee (COUNT(?intermediate) AS ?level)
    WHERE {
      ex:CEO org:hasDirectReport* ?intermediate .
      ?intermediate org:hasDirectReport* ?employee .
    }
    GROUP BY ?employee
  }
}
ORDER BY ?level ?name</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ìŠ¤íƒ€ì¼ ì •ì˜ -->
<style>
/* Part 2 ìŠ¤íƒ€ì¼ */
.part-header.intermediate {
    background: linear-gradient(135deg, #4c1d95 0%, #6366f1 50%, #8b5cf6 100%);
    padding: 3rem 2rem;
    text-align: center;
    color: white;
}

/* ì§„ë„ ì²´í¬ - ì¤‘ê¸‰ */
.progress-check.intermediate-level {
    background: linear-gradient(to right, #6366f1, #8b5cf6);
    color: white;
    padding: 2rem;
    border-radius: 1rem;
    margin: 2rem 0;
}

.skill-item.completed .progress-fill {
    background: #22c55e;
}

.skill-item.current .progress-fill {
    background: #fbbf24;
    animation: progressPulse 2s infinite;
}

/* íŒ¨í„´ ë§¤ì¹­ ì‹¤í—˜ì‹¤ */
.pattern-matching-lab {
    background: #0f172a;
    padding: 3rem 2rem;
    border-radius: 2rem;
    margin: 2rem 0;
}

.scenario-selector {
    margin-bottom: 3rem;
}

.scenario-options {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
}

.scenario-btn {
    background: #1f2937;
    border: 2px solid #374151;
    color: white;
    padding: 1.5rem;
    border-radius: 1rem;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 1rem;
    flex: 1;
}

.scenario-btn.active {
    border-color: #6366f1;
    background: rgba(99, 102, 241, 0.1);
}

.scenario-icon {
    font-size: 2rem;
}

/* íŒ¨í„´ ì„¹ì…˜ */
.pattern-section {
    background: #111827;
    border-radius: 1rem;
    padding: 2rem;
    margin: 2rem 0;
}

.pattern-explanation {
    background: #1f2937;
    padding: 1.5rem;
    border-radius: 0.5rem;
    margin: 1rem 0;
    border-left: 4px solid #6366f1;
}

/* ì½”ë“œ ë¹„êµ */
.code-comparison {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin: 2rem 0;
}

.code-panel {
    background: #0f172a;
    border-radius: 1rem;
    overflow: hidden;
}

.code-panel h6 {
    background: #1f2937;
    padding: 1rem;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.code-editor {
    background: #000;
    color: #e5e7eb;
    padding: 1.5rem;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.9rem;
    line-height: 1.5;
}

.result-preview {
    background: #1f2937;
    padding: 1rem;
    border-top: 1px solid #374151;
}

.result-count.success {
    color: #22c55e;
}

.result-count.error {
    color: #ef4444;
}

/* ì¸í„°ë™í‹°ë¸Œ ê²°ê³¼ í…Œì´ë¸” */
.interactive-results {
    margin-top: 2rem;
}

.result-table-container {
    background: #000;
    border-radius: 0.5rem;
    overflow: hidden;
    margin-top: 1rem;
}

.result-table {
    width: 100%;
    border-collapse: collapse;
}

.result-table th {
    background: #374151;
    color: #fbbf24;
    padding: 1rem;
    text-align: left;
}

.result-table td {
    background: #1f2937;
    color: #e5e7eb;
    padding: 1rem;
    border-bottom: 1px solid #374151;
}

.completeness-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
    font-size: 0.8rem;
    font-weight: bold;
}

.completeness-badge.full {
    background: #22c55e;
    color: white;
}

.completeness-badge.partial {
    background: #fbbf24;
    color: #1f2937;
}

.completeness-badge.minimal {
    background: #ef4444;
    color: white;
}

/* UNION ì‹œê°í™” */
.union-visualizer {
    background: #0f172a;
    padding: 2rem;
    border-radius: 1rem;
    margin: 2rem 0;
}

.union-diagram {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    margin: 2rem 0;
    flex-wrap: wrap;
}

.union-branch {
    background: #1f2937;
    padding: 1.5rem;
    border-radius: 1rem;
    text-align: center;
    border: 2px solid #374151;
    transition: all 0.3s;
}

.union-branch[data-branch="email"] {
    border-color: #22c55e;
}

.union-branch[data-branch="phone"] {
    border-color: #6366f1;
}

.union-branch[data-branch="social"] {
    border-color: #f59e0b;
}

.branch-header {
    font-weight: bold;
    color: #fbbf24;
    margin-bottom: 0.5rem;
}

.branch-pattern {
    font-family: monospace;
    font-size: 0.8rem;
    color: #cbd5e1;
    margin: 0.5rem 0;
}

.branch-results {
    font-weight: bold;
    color: #6366f1;
}

.union-operator {
    font-size: 1.5rem;
    font-weight: bold;
    color: #f59e0b;
    background: #1f2937;
    padding: 1rem;
    border-radius: 0.5rem;
}

.union-result {
    background: #22c55e;
    color: white;
    padding: 1.5rem;
    border-radius: 1rem;
    text-align: center;
    font-weight: bold;
}

.result-arrow {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

/* MINUS í”Œë¡œìš°ì°¨íŠ¸ */
.minus-flowchart {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2rem;
    margin: 2rem 0;
    flex-wrap: wrap;
}

.flow-step {
    background: #1f2937;
    padding: 2rem;
    border-radius: 1rem;
    text-align: center;
    border: 2px solid #374151;
}

.flow-step.exclude {
    border-color: #ef4444;
}

.flow-step.result {
    border-color: #22c55e;
    background: rgba(34, 197, 94, 0.1);
}

.step-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.step-name {
    font-weight: bold;
    color: #fbbf24;
    margin-bottom: 0.5rem;
}

.step-count {
    font-size: 1.5rem;
    font-weight: bold;
    color: #6366f1;
}

.step-details {
    margin-top: 1rem;
}

.step-details div {
    font-size: 0.9rem;
    color: #ef4444;
    margin: 0.25rem 0;
}

.flow-arrow {
    font-size: 2rem;
    color: #6366f1;
}

/* ë¹„êµ ë°•ìŠ¤ */
.comparison-box {
    background: #1f2937;
    padding: 2rem;
    border-radius: 1rem;
    margin: 2rem 0;
}

.comparison-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-top: 1rem;
}

.comparison-item {
    background: #374151;
    padding: 1.5rem;
    border-radius: 0.5rem;
}

.comparison-item h7 {
    color: #fbbf24;
    font-weight: bold;
    display: block;
    margin-bottom: 1rem;
}

.comparison-item ul {
    list-style: none;
    padding: 0;
}

.comparison-item li {
    padding: 0.25rem 0;
    color: #cbd5e1;
}

.comparison-item li::before {
    content: "â–¸ ";
    color: #6366f1;
}

/* FILTER í›ˆë ¨ì¥ */
.filter-training-ground {
    background: #0f172a;
    padding: 3rem 2rem;
    border-radius: 2rem;
    margin: 2rem 0;
}

.function-categories {
    margin-bottom: 2rem;
}

.category-tabs {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    flex-wrap: wrap;
}

.category-tab {
    background: #1f2937;
    border: 2px solid #374151;
    color: white;
    padding: 1rem 1.5rem;
    border-radius: 0.5rem;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.category-tab.active {
    border-color: #6366f1;
    background: rgba(99, 102, 241, 0.1);
}

.tab-icon {
    font-size: 1.2rem;
}

/* í•¨ìˆ˜ íŒ¨ë„ */
.function-panel {
    background: #111827;
    padding: 2rem;
    border-radius: 1rem;
}

.function-playground {
    margin-top: 2rem;
}

.function-item {
    background: #1f2937;
    padding: 2rem;
    border-radius: 1rem;
    margin: 2rem 0;
}

.function-item.advanced {
    border: 2px solid #f59e0b;
}

.function-demo {
    background: #374151;
    padding: 1.5rem;
    border-radius: 0.5rem;
    margin: 1rem 0;
    display: flex;
    align-items: center;
    gap: 2rem;
    flex-wrap: wrap;
}

.function-demo.multi-input .demo-inputs {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.demo-input, .demo-process, .demo-output {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.input-label, .output-label {
    font-weight: bold;
    color: #fbbf24;
}

.demo-input code, .demo-output code {
    background: #4b5563;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-family: monospace;
}

.demo-process {
    color: #6366f1;
    font-weight: bold;
}

.practical-example {
    margin-top: 1rem;
}

/* í•¨ìˆ˜ í…ŒìŠ¤í„° */
.function-tester {
    background: #0f172a;
    padding: 2rem;
    border-radius: 1rem;
    margin-top: 2rem;
}

.tester-interface {
    margin-top: 1rem;
}

.tester-input {
    margin-bottom: 1rem;
}

.tester-input label {
    display: block;
    margin-bottom: 0.5rem;
    color: #fbbf24;
}

.tester-input input {
    width: 100%;
    background: #1f2937;
    border: 1px solid #374151;
    color: white;
    padding: 0.75rem;
    border-radius: 0.5rem;
}

.tester-functions {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.tester-functions button {
    background: #6366f1;
    color: white;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 0.25rem;
    cursor: pointer;
    transition: all 0.2s;
}

.tester-functions button:hover {
    background: #4f46e5;
}

.tester-output {
    background: #1f2937;
    padding: 1rem;
    border-radius: 0.5rem;
    border: 1px solid #374151;
    font-family: monospace;
    color: #e5e7eb;
}

/* ì •ê·œì‹ ì›Œí¬ìƒµ */
.regex-workshop {
    background: #111827;
    padding: 2rem;
    border-radius: 1rem;
}

.regex-intro {
    background: #1f2937;
    padding: 1.5rem;
    border-radius: 0.5rem;
    margin-bottom: 2rem;
    border-left: 4px solid #f59e0b;
}

.regex-patterns {
    margin: 2rem 0;
}

.pattern-category {
    margin: 2rem 0;
}

.pattern-category h6 {
    color: #fbbf24;
    margin-bottom: 1rem;
}

.pattern-examples {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.pattern-example {
    background: #374151;
    padding: 1.5rem;
    border-radius: 0.5rem;
}

.pattern-example.advanced {
    border: 2px solid #8b5cf6;
}

.pattern-code {
    background: #1f2937;
    padding: 1rem;
    border-radius: 0.25rem;
    margin-bottom: 1rem;
}

.pattern-code code {
    color: #22c55e;
    font-family: monospace;
}

.pattern-desc {
    color: #cbd5e1;
    margin-bottom: 1rem;
}

.pattern-test, .pattern-results {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-top: 0.5rem;
}

.pattern-results {
    flex-direction: column;
    align-items: flex-start;
}

.test-input {
    background: #4b5563;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-family: monospace;
}

.test-result.match {
    color: #22c55e;
}

.test-result.no-match {
    color: #ef4444;
}

/* ì •ê·œì‹ ë¹Œë” */
.regex-builder {
    background: #0f172a;
    padding: 2rem;
    border-radius: 1rem;
    margin-top: 2rem;
}

.builder-controls {
    display: flex;
    gap: 2rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
}

.control-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.control-group label {
    color: #fbbf24;
    font-weight: bold;
}

.control-group select {
    background: #1f2937;
    border: 1px solid #374151;
    color: white;
    padding: 0.5rem;
    border-radius: 0.25rem;
}

.builder-output {
    margin: 2rem 0;
}

.regex-preview, .sparql-preview {
    background: #1f2937;
    padding: 1rem;
    border-radius: 0.5rem;
    margin: 1rem 0;
}

.preview-label {
    color: #fbbf24;
    font-weight: bold;
    display: block;
    margin-bottom: 0.5rem;
}

.regex-preview code, .sparql-preview pre {
    color: #22c55e;
    font-family: monospace;
}

.test-area {
    display: flex;
    gap: 1rem;
    align-items: center;
    flex-wrap: wrap;
}

.test-area input {
    flex: 1;
    background: #1f2937;
    border: 1px solid #374151;
    color: white;
    padding: 0.5rem;
    border-radius: 0.25rem;
    min-width: 200px;
}

.test-area button {
    background: #6366f1;
    color: white;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 0.25rem;
    cursor: pointer;
}

/* Property Path ì‹œê°í™” */
.path-exploration-lab {
    background: #0f172a;
    padding: 3rem 2rem;
    border-radius: 2rem;
    margin: 2rem 0;
}

.path-visualizer {
    background: #111827;
    padding: 2rem;
    border-radius: 1rem;
    margin-bottom: 2rem;
}

.graph-canvas {
    background: #1f2937;
    border-radius: 1rem;
    padding: 2rem;
    margin: 2rem 0;
}

.path-graph {
    width: 100%;
    height: 500px;
}

.node {
    fill: #6366f1;
    stroke: #4f46e5;
    stroke-width: 3;
    cursor: pointer;
    transition: all 0.3s;
}

.node:hover {
    fill: #8b5cf6;
    r: 35;
}

.node-label {
    fill: white;
    font-family: Arial, sans-serif;
    font-size: 12px;
    font-weight: bold;
    pointer-events: none;
}

.edge {
    stroke: #94a3b8;
    stroke-width: 2;
    transition: all 0.3s;
}

.edge.highlighted {
    stroke: #fbbf24;
    stroke-width: 4;
    animation: pathPulse 2s infinite;
}

.edge-label {
    fill: #cbd5e1;
    font-family: Arial, sans-serif;
    font-size: 10px;
    pointer-events: none;
}

/* Path ì»¨íŠ¸ë¡¤ */
.path-controls {
    margin-top: 2rem;
}

.path-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin: 1rem 0;
}

.path-btn {
    background: #1f2937;
    border: 2px solid #374151;
    color: white;
    padding: 1rem;
    border-radius: 0.5rem;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.path-btn:hover {
    border-color: #6366f1;
    background: rgba(99, 102, 241, 0.1);
}

.pattern-code {
    font-family: monospace;
    color: #22c55e;
    font-weight: bold;
}

.pattern-desc {
    font-size: 0.8rem;
    color: #9ca3af;
}

.path-result {
    background: #1f2937;
    padding: 1.5rem;
    border-radius: 0.5rem;
    margin-top: 1rem;
    border: 1px solid #374151;
}

/* ì‹œë‚˜ë¦¬ì˜¤ íƒ­ */
.scenario-tabs {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
}

.scenario-tab {
    background: #1f2937;
    border: 2px solid #374151;
    color: white;
    padding: 1rem 2rem;
    border-radius: 0.5rem;
    cursor: pointer;
    transition: all 0.3s;
}

.scenario-tab.active {
    border-color: #6366f1;
    background: rgba(99, 102, 241, 0.1);
}

/* ì±Œë¦°ì§€ ì¹´ë“œ */
.challenge-card {
    background: #1f2937;
    padding: 2rem;
    border-radius: 1rem;
    margin: 2rem 0;
    border: 2px solid #374151;
}

.challenge-card h6 {
    color: #fbbf24;
    margin-bottom: 1rem;
}

.challenge-solution {
    margin: 1.5rem 0;
}

.challenge-explanation {
    background: #374151;
    padding: 1rem;
    border-radius: 0.5rem;
    margin-top: 1rem;
}

.explain-point {
    color: #cbd5e1;
}

/* ì• ë‹ˆë©”ì´ì…˜ */
@keyframes progressPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

@keyframes pathPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* ë°˜ì‘í˜• ë””ìì¸ */
@media (max-width: 768px) {
    .code-comparison {
        grid-template-columns: 1fr;
    }
    
    .comparison-grid {
        grid-template-columns: 1fr;
    }
    
    .union-diagram {
        flex-direction: column;
    }
    
    .minus-flowchart {
        flex-direction: column;
    }
    
    .builder-controls {
        flex-direction: column;
    }
    
    .path-buttons {
        flex-direction: column;
    }
    
    .scenario-tabs {
        flex-direction: column;
    }
}
</style>

<!-- ìŠ¤í¬ë¦½íŠ¸ -->
<script>
// ì „ì—­ ë³€ìˆ˜
let currentScenario = 'social';
let currentCategory = 'string';

// ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ
function selectScenario(scenario) {
    currentScenario = scenario;
    const buttons = document.querySelectorAll('.scenario-btn');
    buttons.forEach(btn => btn.classList.remove('active'));
    event.target.closest('.scenario-btn').classList.add('active');
    
    // ì‹œë‚˜ë¦¬ì˜¤ë³„ ì»¨í…ì¸  ì—…ë°ì´íŠ¸ (ì‹¤ì œë¡œëŠ” ë” ë§ì€ ë¡œì§)
    console.log(`Selected scenario: ${scenario}`);
}

// í•¨ìˆ˜ ì¹´í…Œê³ ë¦¬ ì „í™˜
function showCategory(category) {
    currentCategory = category;
    
    // íƒ­ í™œì„±í™”
    const tabs = document.querySelectorAll('.category-tab');
    tabs.forEach(tab => tab.classList.remove('active'));
    event.target.classList.add('active');
    
    // íŒ¨ë„ ì „í™˜
    const panels = document.querySelectorAll('.function-panel');
    panels.forEach(panel => panel.style.display = 'none');
    
    const targetPanel = document.getElementById(`${category}-functions`);
    if (targetPanel) {
        targetPanel.style.display = 'block';
    }
}

// í•¨ìˆ˜ í…ŒìŠ¤í„°
function testFunction(funcName) {
    const testValue = document.getElementById('testValue').value;
    const resultElement = document.getElementById('functionResult');
    
    let result;
    try {
        switch(funcName) {
            case 'STR':
                result = testValue.replace(/^"(.*)"(@[a-z]+)?$/, '"$1"');
                break;
            case 'STRLEN':
                const cleanValue = testValue.replace(/^"(.*)"$/, '$1');
                result = cleanValue.length;
                break;
            case 'UCASE':
                result = testValue.toUpperCase();
                break;
            case 'LCASE':
                result = testValue.toLowerCase();
                break;
            default:
                result = 'Unknown function';
        }
        
        resultElement.innerHTML = `
            <div class="test-result success">
                <span class="function-name">${funcName}(${testValue})</span>
                <span class="arrow"> â†’ </span>
                <span class="result-value">${result}</span>
            </div>
        `;
    } catch (error) {
        resultElement.innerHTML = `
            <div class="test-result error">
                Error: ${error.message}
            </div>
        `;
    }
}

// ì •ê·œì‹ íŒ¨í„´ ì—…ë°ì´íŠ¸
function updateRegexPattern() {
    const regexType = document.getElementById('regexType').value;
    const caseInsensitive = document.getElementById('caseInsensitive').checked;
    const regexDisplay = document.getElementById('generatedRegex');
    const sparqlDisplay = document.getElementById('generatedSPARQL');
    
    const patterns = {
        email: '@[a-zA-Z0-9._-]+\\.[a-zA-Z]{2,}',
        phone: '^010-\\d{4}-\\d{4}$',
        korean: '^[ê°€-í£]{2,4}$',
        url: '^https?:\\/\\/.+',
        custom: 'ì‚¬ìš©ì ì •ì˜ íŒ¨í„´'
    };
    
    const pattern = patterns[regexType] || patterns.email;
    const flags = caseInsensitive ? ', "i"' : '';
    
    regexDisplay.textContent = pattern;
    sparqlDisplay.innerHTML = `<code>FILTER(REGEX(?variable, "${pattern}"${flags}))</code>`;
}

// ì •ê·œì‹ í…ŒìŠ¤íŠ¸
function testRegex() {
    const pattern = document.getElementById('generatedRegex').textContent;
    const testInput = document.getElementById('regexTestInput').value;
    const resultElement = document.getElementById('regexTestResult');
    const caseInsensitive = document.getElementById('caseInsensitive').checked;
    
    try {
        const flags = caseInsensitive ? 'i' : '';
        const regex = new RegExp(pattern.replace(/\\\\/g, '\\'), flags);
        const matches = regex.test(testInput);
        
        resultElement.innerHTML = matches 
            ? `<span style="color: #22c55e;">âœ… ë§¤ì¹˜ë¨</span>`
            : `<span style="color: #ef4444;">âŒ ë§¤ì¹˜ë˜ì§€ ì•ŠìŒ</span>`;
    } catch (error) {
        resultElement.innerHTML = `<span style="color: #ef4444;">ì˜¤ë¥˜: ${error.message}</span>`;
    }
}

// Property Path í•˜ì´ë¼ì´íŠ¸
function highlightPath(pathType) {
    // ëª¨ë“  ê²½ë¡œ ì´ˆê¸°í™”
    const edges = document.querySelectorAll('.edge');
    const nodes = document.querySelectorAll('.node');
    edges.forEach(edge => edge.classList.remove('highlighted'));
    nodes.forEach(node => node.style.fill = '#6366f1');
    
    const resultElement = document.getElementById('pathResult');
    
    switch(pathType) {
        case 'single':
            // Aliceì˜ ì§ì ‘ ì¹œêµ¬ë“¤ í•˜ì´ë¼ì´íŠ¸
            document.querySelector('[data-path="alice-bob"]').classList.add('highlighted');
            document.querySelector('[data-path="alice-charlie"]').classList.add('highlighted');
            document.querySelector('[data-id="alice"]').style.fill = '#22c55e';
            document.querySelector('[data-id="bob"]').style.fill = '#fbbf24';
            document.querySelector('[data-id="charlie"]').style.fill = '#fbbf24';
            
            resultElement.innerHTML = `
                <h6>foaf:knows ê²°ê³¼</h6>
                <p>Aliceì˜ ì§ì ‘ ì¹œêµ¬: Bob, Charlie</p>
                <div class="result-count">ë§¤ì¹˜: 2ê°œ</div>
            `;
            break;
            
        case 'double':
            // Aliceì˜ ì¹œêµ¬ì˜ ì¹œêµ¬ë“¤ í•˜ì´ë¼ì´íŠ¸
            document.querySelector('[data-path="alice-bob"]').classList.add('highlighted');
            document.querySelector('[data-path="bob-david"]').classList.add('highlighted');
            document.querySelector('[data-path="bob-eve"]').classList.add('highlighted');
            document.querySelector('[data-path="alice-charlie"]').classList.add('highlighted');
            document.querySelector('[data-path="charlie-frank"]').classList.add('highlighted');
            
            document.querySelector('[data-id="alice"]').style.fill = '#22c55e';
            document.querySelector('[data-id="david"]').style.fill = '#f59e0b';
            document.querySelector('[data-id="eve"]').style.fill = '#f59e0b';
            document.querySelector('[data-id="frank"]').style.fill = '#f59e0b';
            
            resultElement.innerHTML = `
                <h6>foaf:knows/foaf:knows ê²°ê³¼</h6>
                <p>Aliceì˜ ì¹œêµ¬ì˜ ì¹œêµ¬: David, Eve, Frank</p>
                <div class="result-count">ë§¤ì¹˜: 3ê°œ</div>
            `;
            break;
            
        case 'one-plus':
            // Aliceë¡œë¶€í„° 1ë‹¨ê³„ ì´ìƒ ì—°ê²°ëœ ëª¨ë“  ì‚¬ëŒë“¤
            edges.forEach(edge => {
                if (edge.dataset.path?.includes('alice') || 
                    edge.dataset.path?.includes('bob') || 
                    edge.dataset.path?.includes('charlie')) {
                    edge.classList.add('highlighted');
                }
            });
            
            resultElement.innerHTML = `
                <h6>foaf:knows+ ê²°ê³¼</h6>
                <p>Aliceë¡œë¶€í„° 1ë‹¨ê³„ ì´ìƒ ì—°ê²°ëœ ëª¨ë“  ì‚¬ëŒ</p>
                <div class="result-count">ë§¤ì¹˜: 6ê°œ (Bob, Charlie, David, Eve, Frank, Grace)</div>
            `;
            break;
    }
}

// ì‹œë‚˜ë¦¬ì˜¤ íƒ­ ì „í™˜
function showScenario(scenario) {
    const tabs = document.querySelectorAll('.scenario-tab');
    const contents = document.querySelectorAll('.scenario-content');
    
    tabs.forEach(tab => tab.classList.remove('active'));
    contents.forEach(content => content.style.display = 'none');
    
    event.target.classList.add('active');
    document.getElementById(`${scenario}-scenario`).style.display = 'block';
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
document.addEventListener('DOMContentLoaded', function() {
    // ì •ê·œì‹ íŒ¨í„´ ì´ˆê¸°í™”
    updateRegexPattern();
    
    // ì§„í–‰ë¥  ì• ë‹ˆë©”ì´ì…˜
    setTimeout(() => {
        const currentProgress = document.querySelector('.skill-item.current .progress-fill');
        if (currentProgress) {
            currentProgress.style.width = '60%';
        }
    }, 1000);
});
</script>