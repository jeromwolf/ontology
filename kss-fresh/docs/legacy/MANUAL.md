# 🎮 3D 지식그래프 시뮬레이터 사용 메뉴얼

## 📋 목차
- [시작하기](#시작하기)
- [기본 인터페이스](#기본-인터페이스)
- [노드 및 엣지 관리](#노드-및-엣지-관리)
- [3D 시각화 기능](#3d-시각화-기능)
- [검색 및 필터링](#검색-및-필터링)
- [SPARQL 쿼리](#sparql-쿼리)
- [추론 엔진](#추론-엔진)
- [데이터 관리](#데이터-관리)
- [단축키](#단축키)
- [문제 해결](#문제-해결)

---

## 🚀 시작하기

### 1. 시뮬레이터 접속
1. 웹 브라우저에서 `http://localhost:3001/rdf-editor` 접속
2. 또는 메인 페이지에서 "RDF Triple Editor" 클릭

### 2. 첫 번째 노드 생성
- 2D 모드: 캔버스에서 **더블클릭**
- 3D 모드: 3D 공간에서 **더블클릭**
- 생성된 노드는 "새 노드"라는 기본 이름을 가집니다

---

## 🖥️ 기본 인터페이스

### 레이아웃 구성
```
┌─────────────┬─────────────────────┬─────────────────┐
│             │                     │                 │
│  도구 패널   │     그래프 캔버스     │   속성 패널     │
│             │                     │                 │
│  • 뷰 모드   │   • 2D/3D 그래프    │ • 노드 속성     │
│  • 레이아웃  │   • 인터랙션 영역   │ • SPARQL 쿼리   │
│  • 필터     │   • 통계 표시       │ • 추론 결과     │
│             │                     │                 │
└─────────────┴─────────────────────┴─────────────────┘
```

### 좌측 패널 (도구)
- **뷰 모드**: 2D ↔ 3D 전환
- **레이아웃**: Force-directed, 계층형, 원형, 격자
- **필터**: 기본, 검색, 고급, 분석 탭
- **데이터 관리**: 가져오기/내보내기, 실행 취소/재실행

### 우측 패널 (정보)
- **노드 속성**: 선택된 노드의 속성 편집
- **SPARQL 쿼리**: 쿼리 실행 및 결과 확인
- **추론 결과**: 자동 추론된 관계 표시

---

## 🎯 노드 및 엣지 관리

### 노드 생성
1. **더블클릭**: 캔버스 빈 공간에서 더블클릭
2. **자동 생성**: 새로운 ID와 기본 속성으로 생성
3. **위치**: 클릭한 지점 또는 랜덤 위치에 배치

### 노드 편집
1. **선택**: 노드 클릭 → 우측 패널에서 속성 확인
2. **속성 추가**: 
   - 우측 패널 "속성 추가" 클릭
   - 속성명과 값 입력
   - Enter 또는 "추가" 버튼 클릭
3. **속성 편집**:
   - 속성 값 클릭 → 인라인 편집 모드
   - 변경 후 Enter 또는 클릭 아웃
4. **속성 삭제**: 속성 옆 🗑️ 아이콘 클릭

### 엣지 생성
1. **Shift + 클릭**: 시작 노드에서 Shift 누르고 클릭
2. **Shift + 드래그**: 대상 노드까지 드래그
3. **관계명 입력**: 팝업에서 관계명 입력
4. **자동 생성**: Triple로 자동 저장

### 노드/엣지 삭제
- **Delete 키**: 선택된 노드/엣지 삭제
- **우클릭 메뉴**: 삭제 옵션 선택
- **도구 패널**: 삭제 버튼 클릭

---

## 🌐 3D 시각화 기능

### 3D 모드 활성화
1. 좌측 패널에서 "3D" 버튼 클릭
2. 3D 렌더링 로딩 대기 (2-3초)
3. 3D 그래프 표시 및 조작 가능

### 3D 조작법

#### 마우스 조작
- **좌클릭 + 드래그**: 카메라 회전
- **휠**: 확대/축소
- **우클릭 + 드래그**: 카메라 이동 (패닝)
- **노드 클릭**: 노드 선택
- **더블클릭**: 새 노드 생성

#### 키보드 조작
- **Delete**: 선택된 노드/엣지 삭제
- **Ctrl+Z**: 실행 취소
- **Ctrl+Y**: 재실행
- **Space**: 자동 회전 토글

### 3D 뷰 옵션
우측 상단 제어 패널에서 설정:
- ☑️ **라벨 표시**: 노드 이름 표시/숨김
- ☑️ **그리드 표시**: 3D 격자 표시/숨김  
- ☑️ **자동 회전**: 자동으로 그래프 회전

### 노드 타입별 3D 형태
- **클래스**: 🔵 파란색 구체
- **속성**: 🟠 주황색 원기둥
- **개체**: 🔷 청록색 원뿔
- **리터럴**: 📦 주황색 정육면체
- **추론된 노드**: 반투명 처리

---

## 🔍 검색 및 필터링

### 필터 탭 종류
좌측 패널 하단에서 4개 탭 선택:

#### 1. 기본 필터
- ☑️ **클래스 표시** (구체 노드)
- ☑️ **속성 표시** (관계/연결)
- ☑️ **개체 표시** (인스턴스)
- ☑️ **리터럴 표시** (데이터 값)
- ☑️ **추론된 관계** (자동 생성된 관계)

각 옵션 옆에 (개수) 표시

#### 2. 검색 필터
- **검색창**: 노드명, 속성명, 관계명 실시간 검색
- **검색 결과**: 매칭된 노드/엣지 개수 표시
- **매치 리스트**: 상위 5개 매치 결과 미리보기
- **하이라이팅**: 검색 결과 그래프에서 강조 표시

#### 3. 고급 필터
- **속성별 필터**: 자주 사용되는 속성으로 필터링
- **연결 임계값**: 슬라이더로 최소 연결 수 설정
- ☑️ **고립된 노드 표시**: 연결이 없는 노드 표시/숨김

#### 4. 분석 필터
- **통계 정보**:
  - 총 노드 수
  - 총 관계 수  
  - 평균 연결 수
- **허브 노드**: 가장 많은 연결을 가진 노드들
- **주요 속성**: 가장 자주 사용되는 관계들

### 필터 사용 팁
1. **조합 사용**: 여러 필터를 동시에 적용 가능
2. **실시간 업데이트**: 필터 변경 시 즉시 그래프 업데이트
3. **초기화**: 우상단 ✖️ 버튼으로 모든 필터 초기화

---

## 📊 SPARQL 쿼리

### 기본 쿼리 실행
1. 우측 패널에서 SPARQL 쿼리 섹션 확인
2. 샘플 쿼리 버튼 클릭 또는 직접 입력
3. "실행" 버튼 클릭
4. 결과 테이블에서 확인

### 샘플 쿼리

#### 모든 트리플 조회
```sparql
SELECT ?subject ?predicate ?object
WHERE {
  ?subject ?predicate ?object .
}
LIMIT 10
```

#### 특정 타입 찾기
```sparql
SELECT ?entity
WHERE {
  ?entity :type :System .
}
```

#### 관계 찾기
```sparql
SELECT ?source ?target
WHERE {
  ?source :hasComponent ?target .
}
```

### 쿼리 결과
- **테이블 형태**: 변수별 열로 구성
- **개수 표시**: 결과 건수 상단 표시
- **복사 기능**: 📋 버튼으로 JSON 결과 복사
- **색상 구분**: URI와 리터럴 값 색상 구분

---

## 🧠 추론 엔진

### 자동 추론 시스템
- **실시간 동작**: 데이터 변경 시 자동 실행
- **4가지 규칙**: 다양한 온톨로지 추론 지원
- **결과 표시**: 우측 패널에서 실시간 확인

### 추론 규칙

#### 1. 하위클래스 이행성
```
A subClassOf B, B subClassOf C → A subClassOf C
```

#### 2. 타입 상속
```
A type B, B subClassOf C → A type C
```

#### 3. 대칭 속성
```
A relatedTo B → B relatedTo A
(relatedTo, sameAs, connectedTo 등)
```

#### 4. 이행 속성
```
A partOf B, B partOf C → A partOf C
(partOf, hasComponent, locatedIn 등)
```

### 추론 결과 보기
1. **규칙 정보**: "규칙 (4)" 버튼으로 활성 규칙 확인
2. **상태 표시**: 🔥 아이콘과 함께 추론 개수 표시
3. **결과 목록**: 추론된 각 트리플 상세 정보
4. **재실행**: 수동으로 추론 재실행 가능

---

## 💾 데이터 관리

### 자동 저장
- **로컬 스토리지**: 모든 변경사항 자동 저장
- **실시간 저장**: 노드/엣지 추가/삭제 시 즉시 저장
- **브라우저 재시작**: 데이터 자동 복원

### 내보내기
좌측 패널 "데이터 관리" 섹션:

#### JSON 내보내기
- **전체 데이터**: 메타데이터 포함 완전한 백업
- **파일명**: `knowledge-graph-YYYY-MM-DD.json`
- **용도**: 백업, 다른 시스템과 연동

#### Turtle 내보내기  
- **RDF 표준**: W3C 표준 RDF/Turtle 형식
- **파일명**: `knowledge-graph-YYYY-MM-DD.ttl`
- **용도**: 다른 RDF 도구와 호환

### 가져오기
1. **파일 선택**: "가져오기" 버튼 클릭
2. **지원 형식**: JSON, TTL, Turtle
3. **자동 파싱**: 형식 자동 인식 및 변환
4. **데이터 병합**: 기존 데이터와 병합

### 실행 취소/재실행
- **기록 관리**: 최근 50개 상태 보관
- **Ctrl+Z**: 이전 상태로 복원
- **Ctrl+Y**: 다음 상태로 이동
- **버튼 상태**: 가능 여부에 따라 버튼 활성화/비활성화

### 전체 삭제
- **확인 대화상자**: 실수 방지를 위한 확인 과정
- **완전 삭제**: 로컬 스토리지까지 완전 삭제
- **복구 불가**: 삭제 후 복구 불가능 (백업 필요)

---

## ⌨️ 단축키

### 전역 단축키
| 키 조합 | 기능 |
|---------|------|
| `Ctrl+Z` | 실행 취소 |
| `Ctrl+Y` | 재실행 |
| `Delete` | 선택된 노드/엣지 삭제 |
| `Space` | 3D 자동 회전 토글 |
| `Esc` | 선택 해제 |

### 마우스 조작
| 조작 | 2D 모드 | 3D 모드 |
|------|---------|---------|
| 클릭 | 노드 선택 | 노드 선택 |
| 더블클릭 | 노드 생성 | 노드 생성 |
| Shift+클릭 | 엣지 생성 시작 | - |
| Shift+드래그 | 엣지 생성 | - |
| 휠 | 확대/축소 | 확대/축소 |
| 드래그 | 노드 이동 | 카메라 회전 |
| 우클릭+드래그 | 캔버스 이동 | 카메라 이동 |

---

## 🔧 문제 해결

### 일반적인 문제

#### 1. 3D 모드가 로딩되지 않음
**증상**: "3D 뷰 로딩중..." 메시지가 계속 표시
**해결방법**:
- 브라우저 새로고침 (F5)
- WebGL 지원 브라우저 사용 (Chrome, Firefox, Safari)
- 하드웨어 가속 활성화 확인

#### 2. 노드 생성이 안됨
**증상**: 더블클릭해도 노드가 생성되지 않음
**해결방법**:
- 캔버스 영역 확인 (노드가 아닌 빈 공간 클릭)
- 브라우저 콘솔에서 오류 메시지 확인
- 페이지 새로고침 후 재시도

#### 3. 데이터가 저장되지 않음
**증상**: 페이지 새로고침 시 데이터 손실
**해결방법**:
- 브라우저 로컬 스토리지 용량 확인
- 시크릿 모드가 아닌 일반 모드 사용
- 수동으로 JSON 내보내기 백업

#### 4. 검색이 작동하지 않음
**증상**: 검색어 입력해도 결과가 나오지 않음
**해결방법**:
- 정확한 검색어 확인 (대소문자 구분 없음)
- 필터 설정 확인 (모든 항목이 숨김 처리되지 않았는지)
- 데이터 존재 여부 확인

### 성능 최적화

#### 대용량 데이터 처리
- **노드 수**: 1000개 이하 권장
- **관계 수**: 5000개 이하 권장
- **레이아웃**: 대용량 시 "격자" 레이아웃 사용
- **필터 활용**: 불필요한 요소 숨김 처리

#### 3D 성능 개선
- **그리드 끄기**: 불필요 시 그리드 표시 해제
- **자동 회전 끄기**: CPU 사용량 절약
- **라벨 끄기**: 많은 노드 시 라벨 숨김

### 브라우저 호환성
| 브라우저 | 2D 모드 | 3D 모드 | 권장 |
|----------|---------|---------|------|
| Chrome 90+ | ✅ | ✅ | ⭐ |
| Firefox 88+ | ✅ | ✅ | ⭐ |
| Safari 14+ | ✅ | ✅ | ⭐ |
| Edge 90+ | ✅ | ✅ | ✅ |

---

## 📞 지원 및 피드백

### 문제 신고
- **GitHub Issues**: [kss-simulator/issues](https://github.com/jeromwolf/kss-simulator/issues)
- **이메일**: support@kss-simulator.com

### 기능 요청
- **GitHub Discussions**: 새로운 기능 아이디어 공유
- **사용자 피드백**: 사용 경험 개선 제안

### 문서 업데이트
이 메뉴얼은 지속적으로 업데이트됩니다. 최신 버전은 항상 GitHub에서 확인하세요.

---

**🎉 축하합니다! 이제 3D 지식그래프 시뮬레이터의 모든 기능을 활용할 준비가 되었습니다!**