<!-- Chapter 6: OWL - 웹 온톨로지 언어 -->

<div class="chapter-header">
    <h1>Chapter 6. OWL - 웹 온톨로지 언어</h1>
    <div class="chapter-quote">
        "OWL은 온톨로지의 완전한 표현력을 제공하는 강력한 언어입니다."
    </div>
</div>

<div class="reading-time">
    <i class="fas fa-clock"></i> 예상 학습 시간: 55분
</div>

<!-- 학습 목표 -->
<div class="learning-objectives card">
    <h3><i class="fas fa-bullseye"></i> 학습 목표</h3>
    <ul>
        <li>OWL의 필요성과 RDFS와의 차이점 이해</li>
        <li>OWL의 세 가지 서브언어 특징 파악</li>
        <li>클래스 표현과 속성 특성 학습</li>
        <li>고급 제약사항과 추론 규칙 이해</li>
    </ul>
</div>

<!-- 섹션 6.1 -->
<section class="content-section">
    <h2>6.1 OWL이란 무엇인가?</h2>
    
    <p>OWL(Web Ontology Language)은 RDFS보다 더 풍부한 표현력을 제공하는 W3C 표준 온톨로지 언어입니다. Description Logic에 기반하여 강력한 추론을 지원합니다.</p>
    
    <div class="concept-box">
        <h4><i class="fas fa-lightbulb"></i> 핵심 개념</h4>
        <p><strong>OWL</strong>: 복잡한 지식을 표현하고 추론할 수 있는 웹 온톨로지 언어로, 클래스 연산, 속성 특성, 카디널리티 제약 등을 지원합니다.</p>
    </div>
    
    <h3>OWL의 발전 과정</h3>
    <div class="evolution-timeline">
        <div class="timeline-item">
            <div class="timeline-year">2004</div>
            <div class="timeline-content">
                <h4>OWL 1</h4>
                <p>첫 번째 W3C 권고안</p>
                <ul>
                    <li>DAML+OIL 기반</li>
                    <li>Description Logic 도입</li>
                    <li>3개 서브언어 제공</li>
                </ul>
            </div>
        </div>
        
        <div class="timeline-item">
            <div class="timeline-year">2012</div>
            <div class="timeline-content">
                <h4>OWL 2</h4>
                <p>확장된 표현력</p>
                <ul>
                    <li>새로운 구조 추가</li>
                    <li>프로파일 도입</li>
                    <li>더 나은 도구 지원</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- 섹션 6.2 -->
<section class="content-section">
    <h2>6.2 OWL의 서브언어</h2>
    
    <p>OWL은 표현력과 계산 복잡도의 균형을 위해 세 가지 서브언어를 제공합니다.</p>
    
    <div class="sublanguages">
        <div class="sublang-card owl-lite">
            <h3>OWL Lite</h3>
            <div class="sublang-features">
                <p><strong>특징:</strong></p>
                <ul>
                    <li>가장 단순한 서브언어</li>
                    <li>분류 계층과 간단한 제약</li>
                    <li>카디널리티 0 또는 1만 허용</li>
                    <li>효율적인 추론 가능</li>
                </ul>
                <p><strong>적합한 경우:</strong></p>
                <ul>
                    <li>간단한 분류 체계</li>
                    <li>기본적인 온톨로지</li>
                    <li>빠른 추론이 필요한 경우</li>
                </ul>
            </div>
        </div>
        
        <div class="sublang-card owl-dl">
            <h3>OWL DL</h3>
            <div class="sublang-features">
                <p><strong>특징:</strong></p>
                <ul>
                    <li>Description Logic 기반</li>
                    <li>완전한 추론 보장 (결정가능)</li>
                    <li>최대 표현력과 계산가능성 균형</li>
                    <li>대부분의 온톨로지가 사용</li>
                </ul>
                <p><strong>적합한 경우:</strong></p>
                <ul>
                    <li>복잡한 도메인 모델링</li>
                    <li>추론의 완전성 필요</li>
                    <li>대규모 온톨로지 개발</li>
                </ul>
            </div>
        </div>
        
        <div class="sublang-card owl-full">
            <h3>OWL Full</h3>
            <div class="sublang-features">
                <p><strong>특징:</strong></p>
                <ul>
                    <li>RDF와 완전 호환</li>
                    <li>최대 표현력</li>
                    <li>결정불가능 (추론 보장 없음)</li>
                    <li>메타모델링 가능</li>
                </ul>
                <p><strong>적합한 경우:</strong></p>
                <ul>
                    <li>RDF 호환성이 중요</li>
                    <li>메타레벨 추론 필요</li>
                    <li>추론 완전성 불필요</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- 섹션 6.3 -->
<section class="content-section">
    <h2>6.3 OWL 클래스 표현</h2>
    
    <p>OWL은 RDFS보다 훨씬 풍부한 클래스 표현 방법을 제공합니다.</p>
    
    <h3>클래스 연산</h3>
    <div class="class-operations">
        <div class="operation-card">
            <h4>교집합 (Intersection)</h4>
            <div class="operation-syntax">
                <pre>:Parent owl:intersectionOf (:Person :hasChild some owl:Thing)</pre>
            </div>
            <div class="operation-example">
                <p><strong>예시:</strong> 부모 = 사람 AND 자녀가 있는 개체</p>
                <div class="example-code">
                    <pre>
:VegetarianPizza owl:equivalentClass [
    owl:intersectionOf (
        :Pizza
        [ a owl:Restriction ;
          owl:onProperty :hasTopping ;
          owl:allValuesFrom :VegetableTopping ]
    )
] .
                    </pre>
                </div>
            </div>
        </div>
        
        <div class="operation-card">
            <h4>합집합 (Union)</h4>
            <div class="operation-syntax">
                <pre>:Pet owl:unionOf (:Cat :Dog :Bird)</pre>
            </div>
            <div class="operation-example">
                <p><strong>예시:</strong> 애완동물 = 고양이 OR 개 OR 새</p>
                <div class="example-code">
                    <pre>
:HotDrink owl:equivalentClass [
    owl:unionOf (:Coffee :Tea :HotChocolate)
] .
                    </pre>
                </div>
            </div>
        </div>
        
        <div class="operation-card">
            <h4>여집합 (Complement)</h4>
            <div class="operation-syntax">
                <pre>:NonVegetarian owl:complementOf :Vegetarian</pre>
            </div>
            <div class="operation-example">
                <p><strong>예시:</strong> 비채식주의자 = NOT 채식주의자</p>
                <div class="example-code">
                    <pre>
:Minor owl:equivalentClass [
    owl:complementOf :Adult
] .
                    </pre>
                </div>
            </div>
        </div>
    </div>
    
    <h3>열거형 클래스</h3>
    <div class="enumeration-example">
        <pre class="code-block">
:DayOfWeek owl:equivalentClass [
    owl:oneOf (:Monday :Tuesday :Wednesday :Thursday 
               :Friday :Saturday :Sunday)
] .

:PrimaryColor owl:equivalentClass [
    owl:oneOf (:Red :Blue :Yellow)
] .
        </pre>
    </div>
</section>

<!-- 섹션 6.4 -->
<section class="content-section">
    <h2>6.4 OWL 속성 특성</h2>
    
    <p>OWL은 속성에 다양한 특성을 부여할 수 있어 더 정확한 모델링이 가능합니다.</p>
    
    <h3>속성 특성 종류</h3>
    <div class="property-characteristics">
        <div class="characteristic-card">
            <h4>함수적 속성 (Functional)</h4>
            <p class="characteristic-desc">하나의 주어에 대해 최대 하나의 값만 가능</p>
            <div class="characteristic-example">
                <pre>:hasBirthDate a owl:FunctionalProperty .</pre>
                <p class="example-note">→ 한 사람은 하나의 생년월일만 가질 수 있음</p>
            </div>
        </div>
        
        <div class="characteristic-card">
            <h4>역함수적 속성 (InverseFunctional)</h4>
            <p class="characteristic-desc">하나의 값에 대해 최대 하나의 주어만 가능</p>
            <div class="characteristic-example">
                <pre>:hasSSN a owl:InverseFunctionalProperty .</pre>
                <p class="example-note">→ 주민번호는 한 사람만 가질 수 있음</p>
            </div>
        </div>
        
        <div class="characteristic-card">
            <h4>대칭적 속성 (Symmetric)</h4>
            <p class="characteristic-desc">A→B이면 B→A도 성립</p>
            <div class="characteristic-example">
                <pre>:marriedTo a owl:SymmetricProperty .</pre>
                <p class="example-note">→ A가 B와 결혼했으면 B도 A와 결혼한 것</p>
            </div>
        </div>
        
        <div class="characteristic-card">
            <h4>이행적 속성 (Transitive)</h4>
            <p class="characteristic-desc">A→B이고 B→C이면 A→C도 성립</p>
            <div class="characteristic-example">
                <pre>:ancestorOf a owl:TransitiveProperty .</pre>
                <p class="example-note">→ A가 B의 조상이고 B가 C의 조상이면 A는 C의 조상</p>
            </div>
        </div>
        
        <div class="characteristic-card">
            <h4>비대칭적 속성 (Asymmetric)</h4>
            <p class="characteristic-desc">A→B이면 B→A는 불가능</p>
            <div class="characteristic-example">
                <pre>:parentOf a owl:AsymmetricProperty .</pre>
                <p class="example-note">→ A가 B의 부모면 B는 A의 부모일 수 없음</p>
            </div>
        </div>
        
        <div class="characteristic-card">
            <h4>반사적 속성 (Reflexive)</h4>
            <p class="characteristic-desc">모든 개체는 자기 자신과 관계를 가짐</p>
            <div class="characteristic-example">
                <pre>:knows a owl:ReflexiveProperty .</pre>
                <p class="example-note">→ 모든 사람은 자기 자신을 앎</p>
            </div>
        </div>
    </div>
</section>

<!-- 섹션 6.5 -->
<section class="content-section">
    <h2>6.5 카디널리티 제약</h2>
    
    <p>OWL은 속성 값의 개수를 정확하게 제한할 수 있습니다.</p>
    
    <h3>카디널리티 종류</h3>
    <div class="cardinality-types">
        <div class="cardinality-card">
            <h4>최소 카디널리티</h4>
            <pre class="code-block">
:Parent owl:equivalentClass [
    a owl:Restriction ;
    owl:onProperty :hasChild ;
    owl:minCardinality 1
] .
            </pre>
            <p>부모는 최소 1명의 자녀를 가짐</p>
        </div>
        
        <div class="cardinality-card">
            <h4>최대 카디널리티</h4>
            <pre class="code-block">
:Person rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty :hasBirthPlace ;
    owl:maxCardinality 1
] .
            </pre>
            <p>사람은 최대 1개의 출생지를 가짐</p>
        </div>
        
        <div class="cardinality-card">
            <h4>정확한 카디널리티</h4>
            <pre class="code-block">
:Human rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty :hasParent ;
    owl:cardinality 2
] .
            </pre>
            <p>인간은 정확히 2명의 부모를 가짐</p>
        </div>
        
        <div class="cardinality-card">
            <h4>한정된 카디널리티</h4>
            <pre class="code-block">
:BasketballTeam rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty :hasPlayer ;
    owl:minQualifiedCardinality 5 ;
    owl:onClass :BasketballPlayer
] .
            </pre>
            <p>농구팀은 최소 5명의 농구선수를 가짐</p>
        </div>
    </div>
</section>

<!-- 섹션 6.6 -->
<section class="content-section">
    <h2>6.6 개체 관계</h2>
    
    <p>OWL은 개체 간의 동일성과 상이성을 명시적으로 표현할 수 있습니다.</p>
    
    <h3>동일성과 상이성</h3>
    <div class="individual-relations">
        <div class="relation-card">
            <h4>owl:sameAs</h4>
            <p>두 개체가 동일함을 표현</p>
            <pre class="code-block">
:MorningStar owl:sameAs :EveningStar .
:금성 owl:sameAs :Venus .
:MarkTwain owl:sameAs :SamuelClemens .
            </pre>
        </div>
        
        <div class="relation-card">
            <h4>owl:differentFrom</h4>
            <p>두 개체가 서로 다름을 표현</p>
            <pre class="code-block">
:John owl:differentFrom :Jane .
:Cat owl:differentFrom :Dog .
            </pre>
        </div>
        
        <div class="relation-card">
            <h4>owl:AllDifferent</h4>
            <p>여러 개체가 모두 서로 다름을 표현</p>
            <pre class="code-block">
[] a owl:AllDifferent ;
   owl:distinctMembers (:Red :Green :Blue :Yellow) .
            </pre>
        </div>
    </div>
</section>

<!-- 섹션 6.7 -->
<section class="content-section">
    <h2>6.7 실전 OWL 온톨로지</h2>
    
    <h3>피자 온톨로지 예제</h3>
    <div class="practical-example">
        <pre class="code-block">
@prefix : &lt;http://example.org/pizza#&gt; .
@prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .

# 온톨로지 선언
: a owl:Ontology ;
    rdfs:label "피자 온톨로지"@ko .

# 클래스 정의
:Pizza a owl:Class ;
    rdfs:label "피자"@ko .

:PizzaBase a owl:Class ;
    rdfs:label "피자 도우"@ko .

:PizzaTopping a owl:Class ;
    rdfs:label "피자 토핑"@ko .

:MeatTopping rdfs:subClassOf :PizzaTopping ;
    owl:disjointWith :VegetableTopping ;
    rdfs:label "고기 토핑"@ko .

:VegetableTopping rdfs:subClassOf :PizzaTopping ;
    rdfs:label "채소 토핑"@ko .

# 속성 정의
:hasBase a owl:ObjectProperty ;
    rdfs:domain :Pizza ;
    rdfs:range :PizzaBase ;
    a owl:FunctionalProperty ;
    rdfs:label "도우를 가짐"@ko .

:hasTopping a owl:ObjectProperty ;
    rdfs:domain :Pizza ;
    rdfs:range :PizzaTopping ;
    rdfs:label "토핑을 가짐"@ko .

# 피자 종류 정의
:MargheritaPizza owl:equivalentClass [
    owl:intersectionOf (
        :Pizza
        [ a owl:Restriction ;
          owl:onProperty :hasTopping ;
          owl:someValuesFrom :TomatoTopping ]
        [ a owl:Restriction ;
          owl:onProperty :hasTopping ;
          owl:someValuesFrom :MozzarellaTopping ]
        [ a owl:Restriction ;
          owl:onProperty :hasTopping ;
          owl:allValuesFrom [
              owl:unionOf (:TomatoTopping :MozzarellaTopping :BasilTopping)
          ]]
    )
] .

:VegetarianPizza owl:equivalentClass [
    owl:intersectionOf (
        :Pizza
        [ a owl:Restriction ;
          owl:onProperty :hasTopping ;
          owl:allValuesFrom :VegetableTopping ]
    )
] .

# 개체 정의
:ThinCrust a :PizzaBase ;
    rdfs:label "씬 크러스트"@ko .

:ThickCrust a :PizzaBase ;
    rdfs:label "두꺼운 크러스트"@ko .

# 모든 피자 도우는 서로 다름
[] a owl:AllDifferent ;
   owl:distinctMembers (:ThinCrust :ThickCrust) .
        </pre>
    </div>
</section>

<!-- 섹션 6.8 -->
<section class="content-section">
    <h2>6.8 OWL 2 프로파일</h2>
    
    <p>OWL 2는 특정 용도에 최적화된 세 가지 프로파일을 제공합니다.</p>
    
    <div class="owl2-profiles">
        <div class="profile-card">
            <h4>OWL 2 EL</h4>
            <p class="profile-purpose">대규모 온톨로지용</p>
            <ul>
                <li>다항 시간 추론</li>
                <li>의료 온톨로지에 적합</li>
                <li>SNOMED CT가 사용</li>
            </ul>
        </div>
        
        <div class="profile-card">
            <h4>OWL 2 QL</h4>
            <p class="profile-purpose">데이터베이스 연동용</p>
            <ul>
                <li>SPARQL 질의 최적화</li>
                <li>대용량 데이터 처리</li>
                <li>관계형 DB 매핑</li>
            </ul>
        </div>
        
        <div class="profile-card">
            <h4>OWL 2 RL</h4>
            <p class="profile-purpose">규칙 기반 추론용</p>
            <ul>
                <li>규칙 엔진 활용</li>
                <li>빠른 추론 속도</li>
                <li>비즈니스 규칙 적용</li>
            </ul>
        </div>
    </div>
</section>

<!-- 실습 과제 -->
<div class="practice-section">
    <h2>🎯 실습 과제</h2>
    
    <div class="practice-task">
        <h3>과제: 가족 관계 OWL 온톨로지</h3>
        <p>다음 요구사항을 만족하는 가족 온톨로지를 작성하세요:</p>
        <ol>
            <li>Person 클래스와 Male, Female 서브클래스 (상호 배타적)</li>
            <li>hasParent, hasChild 속성 (서로 역관계)</li>
            <li>hasSibling 속성 (대칭적)</li>
            <li>hasAncestor 속성 (이행적)</li>
            <li>카디널리티 제약: 모든 사람은 정확히 2명의 부모를 가짐</li>
        </ol>
    </div>
</div>

<!-- 핵심 정리 -->
<div class="summary-section">
    <h2>💡 핵심 정리</h2>
    
    <div class="summary-grid">
        <div class="summary-card">
            <h3>OWL 클래스 표현</h3>
            <ul>
                <li>교집합, 합집합, 여집합</li>
                <li>열거형 클래스</li>
                <li>속성 제한 클래스</li>
                <li>익명 클래스</li>
            </ul>
        </div>
        
        <div class="summary-card">
            <h3>OWL 속성 특성</h3>
            <ul>
                <li>함수적, 역함수적</li>
                <li>대칭적, 비대칭적</li>
                <li>이행적, 반사적</li>
                <li>역관계 속성</li>
            </ul>
        </div>
        
        <div class="summary-card">
            <h3>고급 기능</h3>
            <ul>
                <li>카디널리티 제약</li>
                <li>개체 동일성/상이성</li>
                <li>속성 체인</li>
                <li>데이터타입 제약</li>
            </ul>
        </div>
    </div>
</div>

<!-- 다음 장 예고 -->
<div class="next-chapter">
    <h3>다음 장에서는...</h3>
    <p>온톨로지 질의 언어인 SPARQL에 대해 학습합니다. RDF 데이터를 검색하고 조작하는 방법을 알아봅니다.</p>
    <button class="next-btn" onclick="OntologyBook.loadChapter('chapter07')">
        다음 장으로 <i class="fas fa-arrow-right"></i>
    </button>
</div>

<!-- 챕터 전용 스타일 -->
<style>
/* 진화 타임라인 */
.evolution-timeline {
    display: flex;
    gap: 2rem;
    margin: 2rem 0;
}

.timeline-item {
    flex: 1;
    background: white;
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #e0e7ff;
    position: relative;
}

.timeline-year {
    background: #4f46e5;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    display: inline-block;
    font-weight: bold;
    margin-bottom: 1rem;
}

/* 서브언어 카드 */
.sublanguages {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.sublang-card {
    padding: 1.5rem;
    border-radius: 12px;
    transition: transform 0.3s;
}

.sublang-card:hover {
    transform: translateY(-4px);
}

.owl-lite {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    border: 2px solid #fbbf24;
}

.owl-dl {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    border: 2px solid #3b82f6;
}

.owl-full {
    background: linear-gradient(135deg, #e9d5ff 0%, #d8b4fe 100%);
    border: 2px solid #a855f7;
}

.sublang-card h3 {
    margin-bottom: 1rem;
    color: #1e293b;
}

/* 클래스 연산 */
.class-operations {
    display: grid;
    gap: 1.5rem;
    margin: 2rem 0;
}

.operation-card {
    background: white;
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #e5e7eb;
}

.operation-card h4 {
    color: #4f46e5;
    margin-bottom: 1rem;
}

.operation-syntax {
    background: #f8fafc;
    padding: 1rem;
    border-radius: 8px;
    margin-bottom: 1rem;
}

.operation-syntax pre {
    margin: 0;
    color: #1e293b;
    font-family: 'Courier New', monospace;
}

.operation-example {
    background: #f0f9ff;
    padding: 1rem;
    border-radius: 8px;
}

.example-code pre {
    background: #1e293b;
    color: #f1f5f9;
    padding: 1rem;
    border-radius: 6px;
    overflow-x: auto;
    margin-top: 0.5rem;
}

/* 속성 특성 */
.property-characteristics {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.characteristic-card {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #86efac;
}

.characteristic-card h4 {
    color: #166534;
    margin-bottom: 0.5rem;
}

.characteristic-desc {
    color: #15803d;
    margin-bottom: 1rem;
    font-style: italic;
}

.characteristic-example {
    background: white;
    padding: 1rem;
    border-radius: 8px;
}

.characteristic-example pre {
    margin: 0;
    color: #1e293b;
    font-family: 'Courier New', monospace;
}

.example-note {
    color: #64748b;
    font-size: 0.9rem;
    margin-top: 0.5rem;
}

/* 카디널리티 */
.cardinality-types {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.cardinality-card {
    background: white;
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid #fbbf24;
}

.cardinality-card h4 {
    color: #92400e;
    margin-bottom: 1rem;
}

.cardinality-card p {
    color: #78350f;
    margin-top: 1rem;
    font-style: italic;
}

/* 개체 관계 */
.individual-relations {
    display: grid;
    gap: 1.5rem;
    margin: 2rem 0;
}

.relation-card {
    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
    padding: 1.5rem;
    border-radius: 12px;
}

.relation-card h4 {
    color: #991b1b;
    font-family: 'Courier New', monospace;
    margin-bottom: 0.5rem;
}

/* OWL 2 프로파일 */
.owl2-profiles {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.profile-card {
    background: white;
    padding: 1.5rem;
    border-radius: 12px;
    border: 3px solid #6366f1;
}

.profile-card h4 {
    color: #4f46e5;
    margin-bottom: 0.5rem;
}

.profile-purpose {
    color: #6366f1;
    font-weight: 500;
    margin-bottom: 1rem;
}

/* 코드 블록 */
.code-block {
    background: #1e293b;
    color: #f1f5f9;
    padding: 1.5rem;
    border-radius: 8px;
    overflow-x: auto;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    line-height: 1.6;
    margin: 1rem 0;
}

/* 실전 예제 */
.practical-example {
    background: #f8fafc;
    padding: 2rem;
    border-radius: 16px;
    margin: 2rem 0;
}

/* 반응형 디자인 */
@media (max-width: 768px) {
    .evolution-timeline {
        flex-direction: column;
    }
    
    .sublanguages,
    .property-characteristics,
    .cardinality-types,
    .owl2-profiles {
        grid-template-columns: 1fr;
    }
}
</style>